{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/actions/surveys.ts"],"sourcesContent":["'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport { supabaseAdmin } from '@/lib/supabase/admin';\nimport type { Survey, SurveyFormData } from '@/lib/types';\n\nexport async function getSurveys() {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('surveys')\n      .select(`\n        *,\n        categories (count),\n        questions (count),\n        responses (count)\n      `)\n      .order('created_at', { ascending: false });\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get surveys error:', error);\n    return { success: false, error: 'Failed to fetch surveys' };\n  }\n}\n\nexport async function getSurvey(id: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('surveys')\n      .select(`\n        *,\n        categories (\n          *,\n          questions (*)\n        )\n      `)\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get survey error:', error);\n    return { success: false, error: 'Failed to fetch survey' };\n  }\n}\n\nexport async function createSurvey(formData: SurveyFormData) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('surveys')\n      .insert([\n        {\n          title: formData.title,\n          description: formData.description || null,\n          is_active: formData.is_active,\n          start_date: formData.start_date || null,\n          end_date: formData.end_date || null,\n        },\n      ])\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath('/[admin]/surveys');\n    return { success: true, data };\n  } catch (error) {\n    console.error('Create survey error:', error);\n    return { success: false, error: 'Failed to create survey' };\n  }\n}\n\nexport async function updateSurvey(id: string, formData: Partial<SurveyFormData>) {\n  try {\n    const updateData: any = {};\n    \n    if (formData.title !== undefined) updateData.title = formData.title;\n    if (formData.description !== undefined) updateData.description = formData.description || null;\n    if (formData.is_active !== undefined) updateData.is_active = formData.is_active;\n    if (formData.start_date !== undefined) updateData.start_date = formData.start_date || null;\n    if (formData.end_date !== undefined) updateData.end_date = formData.end_date || null;\n\n    const { data, error } = await supabaseAdmin\n      .from('surveys')\n      .update(updateData)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath('/[admin]/surveys');\n    revalidatePath(`/[admin]/surveys/${id}`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Update survey error:', error);\n    return { success: false, error: 'Failed to update survey' };\n  }\n}\n\nexport async function deleteSurvey(id: string) {\n  try {\n    const { error } = await supabaseAdmin\n      .from('surveys')\n      .delete()\n      .eq('id', id);\n\n    if (error) throw error;\n\n    revalidatePath('/[admin]/surveys');\n    return { success: true };\n  } catch (error) {\n    console.error('Delete survey error:', error);\n    return { success: false, error: 'Failed to delete survey' };\n  }\n}\n\nexport async function toggleSurveyStatus(id: string, isActive: boolean) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('surveys')\n      .update({ is_active: isActive })\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath('/[admin]/surveys');\n    return { success: true, data };\n  } catch (error) {\n    console.error('Toggle survey status error:', error);\n    return { success: false, error: 'Failed to toggle survey status' };\n  }\n}\n"],"names":[],"mappings":";;;;;;;MAkDsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,gDAAA"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/actions/surveys.ts"],"sourcesContent":["'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport { supabaseAdmin } from '@/lib/supabase/admin';\nimport type { Survey, SurveyFormData } from '@/lib/types';\n\nexport async function getSurveys() {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('surveys')\n      .select(`\n        *,\n        categories (count),\n        questions (count),\n        responses (count)\n      `)\n      .order('created_at', { ascending: false });\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get surveys error:', error);\n    return { success: false, error: 'Failed to fetch surveys' };\n  }\n}\n\nexport async function getSurvey(id: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('surveys')\n      .select(`\n        *,\n        categories (\n          *,\n          questions (*)\n        )\n      `)\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get survey error:', error);\n    return { success: false, error: 'Failed to fetch survey' };\n  }\n}\n\nexport async function createSurvey(formData: SurveyFormData) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('surveys')\n      .insert([\n        {\n          title: formData.title,\n          description: formData.description || null,\n          is_active: formData.is_active,\n          start_date: formData.start_date || null,\n          end_date: formData.end_date || null,\n        },\n      ])\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath('/[admin]/surveys');\n    return { success: true, data };\n  } catch (error) {\n    console.error('Create survey error:', error);\n    return { success: false, error: 'Failed to create survey' };\n  }\n}\n\nexport async function updateSurvey(id: string, formData: Partial<SurveyFormData>) {\n  try {\n    const updateData: any = {};\n    \n    if (formData.title !== undefined) updateData.title = formData.title;\n    if (formData.description !== undefined) updateData.description = formData.description || null;\n    if (formData.is_active !== undefined) updateData.is_active = formData.is_active;\n    if (formData.start_date !== undefined) updateData.start_date = formData.start_date || null;\n    if (formData.end_date !== undefined) updateData.end_date = formData.end_date || null;\n\n    const { data, error } = await supabaseAdmin\n      .from('surveys')\n      .update(updateData)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath('/[admin]/surveys');\n    revalidatePath(`/[admin]/surveys/${id}`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Update survey error:', error);\n    return { success: false, error: 'Failed to update survey' };\n  }\n}\n\nexport async function deleteSurvey(id: string) {\n  try {\n    const { error } = await supabaseAdmin\n      .from('surveys')\n      .delete()\n      .eq('id', id);\n\n    if (error) throw error;\n\n    revalidatePath('/[admin]/surveys');\n    return { success: true };\n  } catch (error) {\n    console.error('Delete survey error:', error);\n    return { success: false, error: 'Failed to delete survey' };\n  }\n}\n\nexport async function toggleSurveyStatus(id: string, isActive: boolean) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('surveys')\n      .update({ is_active: isActive })\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath('/[admin]/surveys');\n    return { success: true, data };\n  } catch (error) {\n    console.error('Toggle survey status error:', error);\n    return { success: false, error: 'Failed to toggle survey status' };\n  }\n}\n"],"names":[],"mappings":";;;;;;;MA4EsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,gDAAA"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n// Tailwind class name merger\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n// Format date for display\nexport function formatDate(date: string | Date): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  });\n}\n\n// Format datetime for display\nexport function formatDateTime(date: string | Date): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n}\n\n// Check if survey is currently active\nexport function isSurveyActive(\n  isActive: boolean,\n  startDate: string | null,\n  endDate: string | null\n): boolean {\n  if (!isActive) return false;\n\n  const now = new Date();\n\n  if (startDate && new Date(startDate) > now) {\n    return false;\n  }\n\n  if (endDate && new Date(endDate) < now) {\n    return false;\n  }\n\n  return true;\n}\n\n// Format time spent in seconds to readable format\nexport function formatTimeSpent(seconds: number): string {\n  if (seconds < 60) {\n    return `${seconds}s`;\n  }\n  const minutes = Math.floor(seconds / 60);\n  const remainingSeconds = seconds % 60;\n  return `${minutes}m ${remainingSeconds}s`;\n}\n\n// Generate session ID\nexport function generateSessionId(): string {\n  return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n}\n\n// Get or create session ID from localStorage\nexport function getOrCreateSessionId(forceNew: boolean = false): string {\n  if (typeof window === 'undefined') return '';\n\n  const storageKey = 'survey_session_id';\n  \n  // If forceNew is true, always generate a new session ID\n  if (forceNew) {\n    const sessionId = generateSessionId();\n    localStorage.setItem(storageKey, sessionId);\n    return sessionId;\n  }\n\n  let sessionId = localStorage.getItem(storageKey);\n\n  if (!sessionId) {\n    sessionId = generateSessionId();\n    localStorage.setItem(storageKey, sessionId);\n  }\n\n  return sessionId;\n}\n\n// End current session (clear session ID)\nexport function endSession(): void {\n  if (typeof window === 'undefined') return;\n  localStorage.removeItem('survey_session_id');\n}\n\n// Generate a new session ID and replace the old one\nexport function renewSessionId(): string {\n  endSession(); // First end the old session\n  return getOrCreateSessionId(true);\n}\n\n// Check if user has completed a survey\nexport function hasCompletedSurvey(surveyId: string): boolean {\n  if (typeof window === 'undefined') return false;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  if (!completedSurveys) return false;\n\n  const completed = JSON.parse(completedSurveys);\n  return completed.includes(surveyId);\n}\n\n// Mark survey as completed\nexport function markSurveyCompleted(surveyId: string): void {\n  if (typeof window === 'undefined') return;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  const completed = completedSurveys ? JSON.parse(completedSurveys) : [];\n\n  if (!completed.includes(surveyId)) {\n    completed.push(surveyId);\n    localStorage.setItem('completed_surveys', JSON.stringify(completed));\n  }\n}\n\n// Clear all completed surveys (useful for testing or allowing retakes)\nexport function clearCompletedSurveys(): void {\n  if (typeof window === 'undefined') return;\n  localStorage.removeItem('completed_surveys');\n}\n\n// Clear specific survey completion (allow retake)\nexport function clearSurveyCompletion(surveyId: string): void {\n  if (typeof window === 'undefined') return;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  if (!completedSurveys) return;\n\n  const completed = JSON.parse(completedSurveys);\n  const filtered = completed.filter((id: string) => id !== surveyId);\n  localStorage.setItem('completed_surveys', JSON.stringify(filtered));\n}\n\n// Calculate percentage\nexport function calculatePercentage(value: number, total: number): number {\n  if (total === 0) return 0;\n  return Math.round((value / total) * 100);\n}\n\n// Validate file type for media upload\nexport function isValidMediaFile(file: File): boolean {\n  const validTypes = [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/webp',\n    'video/mp4',\n    'video/webm',\n    'video/quicktime'\n  ];\n  return validTypes.includes(file.type);\n}\n\n// Format file size\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n}\n\n// Get admin path from env\nexport function getAdminPath(): string {\n  return process.env.ADMIN_SECRET_PATH || 'admin-x9QpK7';\n}\n\n// Validate admin path in URL\nexport function isAdminPath(pathname: string): boolean {\n  const adminPath = getAdminPath();\n  return pathname.startsWith(`/${adminPath}`);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/ui/Button.tsx"],"sourcesContent":["import { ButtonHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'ghost' | 'danger';\n  size?: 'sm' | 'md' | 'lg';\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = 'primary', size = 'md', ...props }, ref) => {\n    return (\n      <button\n        ref={ref}\n        className={cn(\n          'inline-flex items-center justify-center rounded-lg font-medium transition-colors',\n          'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary',\n          'disabled:pointer-events-none disabled:opacity-50',\n          {\n            'bg-primary text-white hover:bg-primary-hover active:scale-[0.98]':\n              variant === 'primary',\n            'bg-muted text-foreground hover:bg-border':\n              variant === 'secondary',\n            'hover:bg-muted': variant === 'ghost',\n            'bg-red-600 text-white hover:bg-red-700': variant === 'danger',\n          },\n          {\n            'h-9 px-3 text-sm': size === 'sm',\n            'h-11 px-6 text-base': size === 'md',\n            'h-14 px-8 text-lg': size === 'lg',\n          },\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,uBAAS,IAAA,2KAAU,OACvB,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,GAAG,OAAO,EAAE;IAC1D,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,oFACA,8EACA,oDACA;YACE,oEACE,YAAY;YACd,4CACE,YAAY;YACd,kBAAkB,YAAY;YAC9B,0CAA0C,YAAY;QACxD,GACA;YACE,oBAAoB,SAAS;YAC7B,uBAAuB,SAAS;YAChC,qBAAqB,SAAS;QAChC,GACA;QAED,GAAG,KAAK;;;;;;AAGf;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/ui/Input.tsx"],"sourcesContent":["import { InputHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  error?: string;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, label, error, ...props }, ref) => {\n    return (\n      <div className=\"w-full\">\n        {label && (\n          <label className=\"block text-sm font-medium text-foreground mb-2\">\n            {label}\n          </label>\n        )}\n        <input\n          ref={ref}\n          className={cn(\n            'flex h-11 w-full rounded-lg border border-border bg-background px-4 py-2',\n            'text-base text-foreground placeholder:text-muted-foreground',\n            'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary',\n            'disabled:cursor-not-allowed disabled:opacity-50',\n            error && 'border-red-500 focus-visible:ring-red-500',\n            className\n          )}\n          {...props}\n        />\n        {error && <p className=\"mt-1 text-sm text-red-600\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,sBAAQ,IAAA,2KAAU,OACtB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IACtC,qBACE,6LAAC;QAAI,WAAU;;YACZ,uBACC,6LAAC;gBAAM,WAAU;0BACd;;;;;;0BAGL,6LAAC;gBACC,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,4EACA,+DACA,8EACA,mDACA,SAAS,6CACT;gBAED,GAAG,KAAK;;;;;;YAEV,uBAAS,6LAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D;;AAGF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/ui/Textarea.tsx"],"sourcesContent":["import { TextareaHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface TextareaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\n  label?: string;\n  error?: string;\n}\n\nconst Textarea = forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, label, error, ...props }, ref) => {\n    return (\n      <div className=\"w-full\">\n        {label && (\n          <label className=\"block text-sm font-medium text-foreground mb-2\">\n            {label}\n          </label>\n        )}\n        <textarea\n          ref={ref}\n          className={cn(\n            'flex min-h-[120px] w-full rounded-lg border border-border bg-background px-4 py-3',\n            'text-base text-foreground placeholder:text-muted-foreground',\n            'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary',\n            'disabled:cursor-not-allowed disabled:opacity-50',\n            'resize-none',\n            error && 'border-red-500 focus-visible:ring-red-500',\n            className\n          )}\n          {...props}\n        />\n        {error && <p className=\"mt-1 text-sm text-red-600\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nTextarea.displayName = 'Textarea';\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,yBAAW,IAAA,2KAAU,OACzB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IACtC,qBACE,6LAAC;QAAI,WAAU;;YACZ,uBACC,6LAAC;gBAAM,WAAU;0BACd;;;;;;0BAGL,6LAAC;gBACC,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,qFACA,+DACA,8EACA,mDACA,eACA,SAAS,6CACT;gBAED,GAAG,KAAK;;;;;;YAEV,uBAAS,6LAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D;;AAGF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/admin/SurveyForm.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createSurvey, updateSurvey } from '@/actions/surveys';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { Textarea } from '@/components/ui/Textarea';\nimport type { Survey } from '@/lib/types';\n\ninterface SurveyFormProps {\n  adminPath: string;\n  survey?: Survey;\n}\n\nexport function SurveyForm({ adminPath, survey }: SurveyFormProps) {\n  const router = useRouter();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const [formData, setFormData] = useState({\n    title: survey?.title || '',\n    description: survey?.description || '',\n    is_active: survey?.is_active || false,\n    start_date: survey?.start_date ? survey.start_date.split('T')[0] : '',\n    end_date: survey?.end_date ? survey.end_date.split('T')[0] : '',\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setIsLoading(true);\n\n    try {\n      const result = survey\n        ? await updateSurvey(survey.id, formData)\n        : await createSurvey(formData);\n\n      if (result.success) {\n        router.push(`/${adminPath}/surveys`);\n        router.refresh();\n      } else {\n        setError(result.error || 'Operation failed');\n      }\n    } catch (err) {\n      setError('An unexpected error occurred');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      <Input\n        label=\"Title\"\n        placeholder=\"Enter survey title\"\n        value={formData.title}\n        onChange={(e) =>\n          setFormData({ ...formData, title: e.target.value })\n        }\n        required\n        disabled={isLoading}\n      />\n\n      <Textarea\n        label=\"Description\"\n        placeholder=\"Enter survey description (optional)\"\n        value={formData.description}\n        onChange={(e) =>\n          setFormData({ ...formData, description: e.target.value })\n        }\n        disabled={isLoading}\n      />\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <Input\n          label=\"Start Date\"\n          type=\"date\"\n          value={formData.start_date}\n          onChange={(e) =>\n            setFormData({ ...formData, start_date: e.target.value })\n          }\n          disabled={isLoading}\n        />\n\n        <Input\n          label=\"End Date\"\n          type=\"date\"\n          value={formData.end_date}\n          onChange={(e) =>\n            setFormData({ ...formData, end_date: e.target.value })\n          }\n          disabled={isLoading}\n        />\n      </div>\n\n      <div className=\"flex items-center gap-2\">\n        <input\n          type=\"checkbox\"\n          id=\"is_active\"\n          checked={formData.is_active}\n          onChange={(e) =>\n            setFormData({ ...formData, is_active: e.target.checked })\n          }\n          disabled={isLoading}\n          className=\"w-5 h-5 text-primary border-border rounded focus:ring-primary\"\n        />\n        <label htmlFor=\"is_active\" className=\"text-sm font-medium text-foreground\">\n          Active Survey\n        </label>\n      </div>\n\n      {error && (\n        <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-sm text-red-600\">{error}</p>\n        </div>\n      )}\n\n      <div className=\"flex gap-3\">\n        <Button type=\"submit\" disabled={isLoading}>\n          {isLoading ? 'Saving...' : survey ? 'Update Survey' : 'Create Survey'}\n        </Button>\n        <Button\n          type=\"button\"\n          variant=\"secondary\"\n          onClick={() => router.push(`/${adminPath}/surveys`)}\n          disabled={isLoading}\n        >\n          Cancel\n        </Button>\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;;;AAPA;;;;;;;AAeO,SAAS,WAAW,EAAE,SAAS,EAAE,MAAM,EAAmB;;IAC/D,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QACvC,OAAO,QAAQ,SAAS;QACxB,aAAa,QAAQ,eAAe;QACpC,WAAW,QAAQ,aAAa;QAChC,YAAY,QAAQ,aAAa,OAAO,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG;QACnE,UAAU,QAAQ,WAAW,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG;IAC/D;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,aAAa;QAEb,IAAI;YACF,MAAM,SAAS,SACX,MAAM,IAAA,yKAAY,EAAC,OAAO,EAAE,EAAE,YAC9B,MAAM,IAAA,yKAAY,EAAC;YAEvB,IAAI,OAAO,OAAO,EAAE;gBAClB,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,UAAU,QAAQ,CAAC;gBACnC,OAAO,OAAO;YAChB,OAAO;gBACL,SAAS,OAAO,KAAK,IAAI;YAC3B;QACF,EAAE,OAAO,KAAK;YACZ,SAAS;YACT,QAAQ,KAAK,CAAC;QAChB,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,6LAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,6LAAC,6IAAK;gBACJ,OAAM;gBACN,aAAY;gBACZ,OAAO,SAAS,KAAK;gBACrB,UAAU,CAAC,IACT,YAAY;wBAAE,GAAG,QAAQ;wBAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oBAAC;gBAEnD,QAAQ;gBACR,UAAU;;;;;;0BAGZ,6LAAC,mJAAQ;gBACP,OAAM;gBACN,aAAY;gBACZ,OAAO,SAAS,WAAW;gBAC3B,UAAU,CAAC,IACT,YAAY;wBAAE,GAAG,QAAQ;wBAAE,aAAa,EAAE,MAAM,CAAC,KAAK;oBAAC;gBAEzD,UAAU;;;;;;0BAGZ,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,6IAAK;wBACJ,OAAM;wBACN,MAAK;wBACL,OAAO,SAAS,UAAU;wBAC1B,UAAU,CAAC,IACT,YAAY;gCAAE,GAAG,QAAQ;gCAAE,YAAY,EAAE,MAAM,CAAC,KAAK;4BAAC;wBAExD,UAAU;;;;;;kCAGZ,6LAAC,6IAAK;wBACJ,OAAM;wBACN,MAAK;wBACL,OAAO,SAAS,QAAQ;wBACxB,UAAU,CAAC,IACT,YAAY;gCAAE,GAAG,QAAQ;gCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4BAAC;wBAEtD,UAAU;;;;;;;;;;;;0BAId,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,MAAK;wBACL,IAAG;wBACH,SAAS,SAAS,SAAS;wBAC3B,UAAU,CAAC,IACT,YAAY;gCAAE,GAAG,QAAQ;gCAAE,WAAW,EAAE,MAAM,CAAC,OAAO;4BAAC;wBAEzD,UAAU;wBACV,WAAU;;;;;;kCAEZ,6LAAC;wBAAM,SAAQ;wBAAY,WAAU;kCAAsC;;;;;;;;;;;;YAK5E,uBACC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAE,WAAU;8BAAwB;;;;;;;;;;;0BAIzC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+IAAM;wBAAC,MAAK;wBAAS,UAAU;kCAC7B,YAAY,cAAc,SAAS,kBAAkB;;;;;;kCAExD,6LAAC,+IAAM;wBACL,MAAK;wBACL,SAAQ;wBACR,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,UAAU,QAAQ,CAAC;wBAClD,UAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;GAvHgB;;QACC,kJAAS;;;KADV"}}]
}