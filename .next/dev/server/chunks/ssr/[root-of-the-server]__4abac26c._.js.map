{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n// Tailwind class name merger\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n// Format date for display\nexport function formatDate(date: string | Date): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  });\n}\n\n// Format datetime for display\nexport function formatDateTime(date: string | Date): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n}\n\n// Check if survey is currently active\nexport function isSurveyActive(\n  isActive: boolean,\n  startDate: string | null,\n  endDate: string | null\n): boolean {\n  if (!isActive) return false;\n\n  const now = new Date();\n\n  if (startDate && new Date(startDate) > now) {\n    return false;\n  }\n\n  if (endDate && new Date(endDate) < now) {\n    return false;\n  }\n\n  return true;\n}\n\n// Format time spent in seconds to readable format\nexport function formatTimeSpent(seconds: number): string {\n  if (seconds < 60) {\n    return `${seconds}s`;\n  }\n  const minutes = Math.floor(seconds / 60);\n  const remainingSeconds = seconds % 60;\n  return `${minutes}m ${remainingSeconds}s`;\n}\n\n// Generate session ID\nexport function generateSessionId(): string {\n  return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n}\n\n// Get or create session ID from localStorage\nexport function getOrCreateSessionId(forceNew: boolean = false): string {\n  if (typeof window === 'undefined') return '';\n\n  const storageKey = 'survey_session_id';\n  \n  // If forceNew is true, always generate a new session ID\n  if (forceNew) {\n    const sessionId = generateSessionId();\n    localStorage.setItem(storageKey, sessionId);\n    return sessionId;\n  }\n\n  let sessionId = localStorage.getItem(storageKey);\n\n  if (!sessionId) {\n    sessionId = generateSessionId();\n    localStorage.setItem(storageKey, sessionId);\n  }\n\n  return sessionId;\n}\n\n// End current session (clear session ID)\nexport function endSession(): void {\n  if (typeof window === 'undefined') return;\n  localStorage.removeItem('survey_session_id');\n}\n\n// Generate a new session ID and replace the old one\nexport function renewSessionId(): string {\n  endSession(); // First end the old session\n  return getOrCreateSessionId(true);\n}\n\n// Check if user has completed a survey\nexport function hasCompletedSurvey(surveyId: string): boolean {\n  if (typeof window === 'undefined') return false;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  if (!completedSurveys) return false;\n\n  const completed = JSON.parse(completedSurveys);\n  return completed.includes(surveyId);\n}\n\n// Mark survey as completed\nexport function markSurveyCompleted(surveyId: string): void {\n  if (typeof window === 'undefined') return;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  const completed = completedSurveys ? JSON.parse(completedSurveys) : [];\n\n  if (!completed.includes(surveyId)) {\n    completed.push(surveyId);\n    localStorage.setItem('completed_surveys', JSON.stringify(completed));\n  }\n}\n\n// Clear all completed surveys (useful for testing or allowing retakes)\nexport function clearCompletedSurveys(): void {\n  if (typeof window === 'undefined') return;\n  localStorage.removeItem('completed_surveys');\n}\n\n// Clear specific survey completion (allow retake)\nexport function clearSurveyCompletion(surveyId: string): void {\n  if (typeof window === 'undefined') return;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  if (!completedSurveys) return;\n\n  const completed = JSON.parse(completedSurveys);\n  const filtered = completed.filter((id: string) => id !== surveyId);\n  localStorage.setItem('completed_surveys', JSON.stringify(filtered));\n}\n\n// Calculate percentage\nexport function calculatePercentage(value: number, total: number): number {\n  if (total === 0) return 0;\n  return Math.round((value / total) * 100);\n}\n\n// Validate file type for media upload\nexport function isValidMediaFile(file: File): boolean {\n  const validTypes = [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/webp',\n    'video/mp4',\n    'video/webm',\n    'video/quicktime'\n  ];\n  return validTypes.includes(file.type);\n}\n\n// Format file size\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n}\n\n// Get admin path from env\nexport function getAdminPath(): string {\n  return process.env.ADMIN_SECRET_PATH || 'admin-x9QpK7';\n}\n\n// Validate admin path in URL\nexport function isAdminPath(pathname: string): boolean {\n  const adminPath = getAdminPath();\n  return pathname.startsWith(`/${adminPath}`);\n}\n\n// Device and Browser Detection\nexport interface DeviceInfo {\n  device_type: 'mobile' | 'tablet' | 'desktop';\n  browser: string;\n  os: string;\n}\n\nexport function getDeviceInfo(): DeviceInfo {\n  if (typeof window === 'undefined') {\n    return { device_type: 'desktop', browser: 'Unknown', os: 'Unknown' };\n  }\n\n  const ua = navigator.userAgent;\n  \n  // Detect device type\n  let device_type: 'mobile' | 'tablet' | 'desktop' = 'desktop';\n  if (/iPad|Android(?!.*Mobile)|Tablet/i.test(ua)) {\n    device_type = 'tablet';\n  } else if (/Mobile|iPhone|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(ua)) {\n    device_type = 'mobile';\n  }\n  \n  // Detect browser\n  let browser = 'Unknown';\n  if (/Edg\\//i.test(ua)) {\n    browser = 'Edge';\n  } else if (/Chrome/i.test(ua) && !/Chromium/i.test(ua)) {\n    browser = 'Chrome';\n  } else if (/Safari/i.test(ua) && !/Chrome/i.test(ua)) {\n    browser = 'Safari';\n  } else if (/Firefox/i.test(ua)) {\n    browser = 'Firefox';\n  } else if (/MSIE|Trident/i.test(ua)) {\n    browser = 'Internet Explorer';\n  } else if (/Opera|OPR/i.test(ua)) {\n    browser = 'Opera';\n  } else if (/Samsung/i.test(ua)) {\n    browser = 'Samsung Browser';\n  }\n  \n  // Detect OS\n  let os = 'Unknown';\n  if (/Windows/i.test(ua)) {\n    os = 'Windows';\n  } else if (/Mac OS X/i.test(ua) && !/iPhone|iPad|iPod/i.test(ua)) {\n    os = 'macOS';\n  } else if (/iPhone|iPad|iPod/i.test(ua)) {\n    os = 'iOS';\n  } else if (/Android/i.test(ua)) {\n    os = 'Android';\n  } else if (/Linux/i.test(ua)) {\n    os = 'Linux';\n  } else if (/CrOS/i.test(ua)) {\n    os = 'Chrome OS';\n  }\n  \n  return { device_type, browser, os };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAGO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAGO,SAAS,WAAW,IAAmB;IAC5C,MAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IACtD,OAAO,EAAE,kBAAkB,CAAC,SAAS;QACnC,MAAM;QACN,OAAO;QACP,KAAK;IACP;AACF;AAGO,SAAS,eAAe,IAAmB;IAChD,MAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IACtD,OAAO,EAAE,cAAc,CAAC,SAAS;QAC/B,MAAM;QACN,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;IACV;AACF;AAGO,SAAS,eACd,QAAiB,EACjB,SAAwB,EACxB,OAAsB;IAEtB,IAAI,CAAC,UAAU,OAAO;IAEtB,MAAM,MAAM,IAAI;IAEhB,IAAI,aAAa,IAAI,KAAK,aAAa,KAAK;QAC1C,OAAO;IACT;IAEA,IAAI,WAAW,IAAI,KAAK,WAAW,KAAK;QACtC,OAAO;IACT;IAEA,OAAO;AACT;AAGO,SAAS,gBAAgB,OAAe;IAC7C,IAAI,UAAU,IAAI;QAChB,OAAO,GAAG,QAAQ,CAAC,CAAC;IACtB;IACA,MAAM,UAAU,KAAK,KAAK,CAAC,UAAU;IACrC,MAAM,mBAAmB,UAAU;IACnC,OAAO,GAAG,QAAQ,EAAE,EAAE,iBAAiB,CAAC,CAAC;AAC3C;AAGO,SAAS;IACd,OAAO,CAAC,QAAQ,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;AAC3E;AAGO,SAAS,qBAAqB,WAAoB,KAAK;IAC5D,wCAAmC,OAAO;;;IAE1C,MAAM;IASN,IAAI;AAQN;AAGO,SAAS;IACd,wCAAmC;;;AAErC;AAGO,SAAS;IACd,cAAc,4BAA4B;IAC1C,OAAO,qBAAqB;AAC9B;AAGO,SAAS,mBAAmB,QAAgB;IACjD,wCAAmC,OAAO;;;IAE1C,MAAM;IAGN,MAAM;AAER;AAGO,SAAS,oBAAoB,QAAgB;IAClD,wCAAmC;;;IAEnC,MAAM;IACN,MAAM;AAMR;AAGO,SAAS;IACd,wCAAmC;;;AAErC;AAGO,SAAS,sBAAsB,QAAgB;IACpD,wCAAmC;;;IAEnC,MAAM;IAGN,MAAM;IACN,MAAM;AAER;AAGO,SAAS,oBAAoB,KAAa,EAAE,KAAa;IAC9D,IAAI,UAAU,GAAG,OAAO;IACxB,OAAO,KAAK,KAAK,CAAC,AAAC,QAAQ,QAAS;AACtC;AAGO,SAAS,iBAAiB,IAAU;IACzC,MAAM,aAAa;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,OAAO,WAAW,QAAQ,CAAC,KAAK,IAAI;AACtC;AAGO,SAAS,eAAe,KAAa;IAC1C,IAAI,UAAU,GAAG,OAAO;IAExB,MAAM,IAAI;IACV,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;KAAK;IACzC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAEhD,OAAO,KAAK,KAAK,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,KAAK,OAAO,MAAM,MAAM,KAAK,CAAC,EAAE;AACxE;AAGO,SAAS;IACd,OAAO,QAAQ,GAAG,CAAC,iBAAiB,IAAI;AAC1C;AAGO,SAAS,YAAY,QAAgB;IAC1C,MAAM,YAAY;IAClB,OAAO,SAAS,UAAU,CAAC,CAAC,CAAC,EAAE,WAAW;AAC5C;AASO,SAAS;IACd,wCAAmC;QACjC,OAAO;YAAE,aAAa;YAAW,SAAS;YAAW,IAAI;QAAU;IACrE;;;IAEA,MAAM;IAEN,qBAAqB;IACrB,IAAI;IAOJ,iBAAiB;IACjB,IAAI;IAiBJ,YAAY;IACZ,IAAI;AAgBN"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/ui/Card.tsx"],"sourcesContent":["import { HTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface CardProps extends HTMLAttributes<HTMLDivElement> {}\n\nconst Card = forwardRef<HTMLDivElement, CardProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          'rounded-xl border border-border bg-background shadow-sm',\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\n\nCard.displayName = 'Card';\n\nconst CardHeader = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn('flex flex-col space-y-1.5 p-6', className)}\n        {...props}\n      />\n    );\n  }\n);\n\nCardHeader.displayName = 'CardHeader';\n\nconst CardTitle = forwardRef<\n  HTMLHeadingElement,\n  HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => {\n  return (\n    <h3\n      ref={ref}\n      className={cn('text-2xl font-semibold leading-none', className)}\n      {...props}\n    />\n  );\n});\n\nCardTitle.displayName = 'CardTitle';\n\nconst CardDescription = forwardRef<\n  HTMLParagraphElement,\n  HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  return (\n    <p\n      ref={ref}\n      className={cn('text-sm text-muted-foreground', className)}\n      {...props}\n    />\n  );\n});\n\nCardDescription.displayName = 'CardDescription';\n\nconst CardContent = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n    );\n  }\n);\n\nCardContent.displayName = 'CardContent';\n\nconst CardFooter = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn('flex items-center p-6 pt-0', className)}\n        {...props}\n      />\n    );\n  }\n);\n\nCardFooter.displayName = 'CardFooter';\n\nexport { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAIA,MAAM,qBAAO,IAAA,mNAAU,EACrB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAGF,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,IAAA,mNAAU,EAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAGF,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,IAAA,mNAAU,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,uCAAuC;QACpD,GAAG,KAAK;;;;;;AAGf;AAEA,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,IAAA,mNAAU,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,IAAA,mNAAU,EAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAElE;AAGF,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,IAAA,mNAAU,EAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAGF,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/admin/ResultsView.tsx"],"sourcesContent":["'use client';\n\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/Card';\nimport { calculatePercentage } from '@/lib/utils';\nimport type { AggregatedResults, QuestionType } from '@/lib/types';\n\ninterface MediaViewStat {\n  question_id: string;\n  question_text: string;\n  media_url: string;\n  view_count: number;\n}\n\ninterface ResultsViewProps {\n  results: AggregatedResults;\n  mediaViews?: MediaViewStat[];\n}\n\nexport function ResultsView({ results, mediaViews = [] }: ResultsViewProps) {\n  // Helper to get media view count for a question\n  const getMediaViewCount = (questionId: string): number => {\n    const found = mediaViews.find(mv => mv.question_id === questionId);\n    return found?.view_count || 0;\n  };\n\n  // Helper to get media URL for a question\n  const getMediaUrl = (questionId: string): string | null => {\n    const found = mediaViews.find(mv => mv.question_id === questionId);\n    return found?.media_url || null;\n  };\n\n  // Check if question has media\n  const hasMedia = (questionId: string): boolean => {\n    return mediaViews.some(mv => mv.question_id === questionId && mv.media_url);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Overview Stats */}\n      <div className=\"grid grid-cols-3 gap-2 sm:gap-4\">\n        <Card>\n          <CardContent className=\"pt-4 sm:pt-6 px-2 sm:px-6\">\n            <div className=\"text-center\">\n              <p className=\"text-xl sm:text-3xl font-bold text-primary\">\n                {results.total_responses}\n              </p>\n              <p className=\"text-xs sm:text-sm text-muted-foreground mt-1\">\n                Responses\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-4 sm:pt-6 px-2 sm:px-6\">\n            <div className=\"text-center\">\n              <p className=\"text-xl sm:text-3xl font-bold text-primary\">\n                {results.questions.length}\n              </p>\n              <p className=\"text-xs sm:text-sm text-muted-foreground mt-1\">\n                Questions\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-4 sm:pt-6 px-2 sm:px-6\">\n            <div className=\"text-center\">\n              <p className=\"text-xl sm:text-3xl font-bold text-primary\">\n                {Object.keys(results.by_age).length}\n              </p>\n              <p className=\"text-xs sm:text-sm text-muted-foreground mt-1\">\n                Age Groups\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Demographics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Responses by Age Range</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {Object.keys(results.by_age).length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-4\">\n                No data available\n              </p>\n            ) : (\n              <div className=\"space-y-3\">\n                {Object.entries(results.by_age).map(([age, count]) => (\n                  <div key={age}>\n                    <div className=\"flex justify-between mb-1\">\n                      <span className=\"text-sm font-medium\">{age}</span>\n                      <span className=\"text-sm text-muted-foreground\">\n                        {count} ({calculatePercentage(count, results.total_responses)}%)\n                      </span>\n                    </div>\n                    <div className=\"w-full bg-muted rounded-full h-2\">\n                      <div\n                        className=\"bg-primary h-2 rounded-full transition-all\"\n                        style={{\n                          width: `${calculatePercentage(count, results.total_responses)}%`,\n                        }}\n                      />\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Responses by Gender</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {Object.keys(results.by_gender).length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-4\">\n                No data available\n              </p>\n            ) : (\n              <div className=\"space-y-3\">\n                {Object.entries(results.by_gender).map(([gender, count]) => (\n                  <div key={gender}>\n                    <div className=\"flex justify-between mb-1\">\n                      <span className=\"text-sm font-medium capitalize\">\n                        {gender.replace('_', ' ')}\n                      </span>\n                      <span className=\"text-sm text-muted-foreground\">\n                        {count} ({calculatePercentage(count, results.total_responses)}%)\n                      </span>\n                    </div>\n                    <div className=\"w-full bg-muted rounded-full h-2\">\n                      <div\n                        className=\"bg-primary h-2 rounded-full transition-all\"\n                        style={{\n                          width: `${calculatePercentage(count, results.total_responses)}%`,\n                        }}\n                      />\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Device & Browser Stats */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\n        <Card>\n          <CardHeader className=\"pb-2 sm:pb-4\">\n            <CardTitle className=\"text-base sm:text-lg\">By Device Type</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {Object.keys(results.by_device || {}).length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-4\">\n                No data available\n              </p>\n            ) : (\n              <div className=\"space-y-3\">\n                {Object.entries(results.by_device || {}).map(([device, count]) => (\n                  <div key={device}>\n                    <div className=\"flex justify-between mb-1\">\n                      <span className=\"text-sm font-medium capitalize flex items-center gap-2\">\n                        {device === 'mobile' && 'üì±'}\n                        {device === 'tablet' && 'üì≤'}\n                        {device === 'desktop' && 'üñ•Ô∏è'}\n                        {device}\n                      </span>\n                      <span className=\"text-sm text-muted-foreground\">\n                        {count} ({calculatePercentage(count, results.total_responses)}%)\n                      </span>\n                    </div>\n                    <div className=\"w-full bg-muted rounded-full h-2\">\n                      <div\n                        className=\"bg-blue-500 h-2 rounded-full transition-all\"\n                        style={{\n                          width: `${calculatePercentage(count, results.total_responses)}%`,\n                        }}\n                      />\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2 sm:pb-4\">\n            <CardTitle className=\"text-base sm:text-lg\">By Browser</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {Object.keys(results.by_browser || {}).length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-4\">\n                No data available\n              </p>\n            ) : (\n              <div className=\"space-y-3\">\n                {Object.entries(results.by_browser || {}).map(([browser, count]) => (\n                  <div key={browser}>\n                    <div className=\"flex justify-between mb-1\">\n                      <span className=\"text-sm font-medium\">\n                        {browser}\n                      </span>\n                      <span className=\"text-sm text-muted-foreground\">\n                        {count} ({calculatePercentage(count, results.total_responses)}%)\n                      </span>\n                    </div>\n                    <div className=\"w-full bg-muted rounded-full h-2\">\n                      <div\n                        className=\"bg-green-500 h-2 rounded-full transition-all\"\n                        style={{\n                          width: `${calculatePercentage(count, results.total_responses)}%`,\n                        }}\n                      />\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card className=\"sm:col-span-2 lg:col-span-1\">\n          <CardHeader className=\"pb-2 sm:pb-4\">\n            <CardTitle className=\"text-base sm:text-lg\">By Operating System</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {Object.keys(results.by_os || {}).length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-4\">\n                No data available\n              </p>\n            ) : (\n              <div className=\"space-y-3\">\n                {Object.entries(results.by_os || {}).map(([os, count]) => (\n                  <div key={os}>\n                    <div className=\"flex justify-between mb-1\">\n                      <span className=\"text-sm font-medium\">\n                        {os}\n                      </span>\n                      <span className=\"text-sm text-muted-foreground\">\n                        {count} ({calculatePercentage(count, results.total_responses)}%)\n                      </span>\n                    </div>\n                    <div className=\"w-full bg-muted rounded-full h-2\">\n                      <div\n                        className=\"bg-purple-500 h-2 rounded-full transition-all\"\n                        style={{\n                          width: `${calculatePercentage(count, results.total_responses)}%`,\n                        }}\n                      />\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Question Results */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Question Results</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {results.questions.length === 0 ? (\n            <p className=\"text-muted-foreground text-center py-8\">\n              No questions in this survey\n            </p>\n          ) : (\n            <div className=\"space-y-6\">\n              {results.questions.map((question, index) => {\n                const mediaUrl = getMediaUrl(question.question_id);\n                const viewCount = getMediaViewCount(question.question_id);\n                const questionHasMedia = hasMedia(question.question_id);\n\n                return (\n                  <div\n                    key={question.question_id}\n                    className=\"border border-border rounded-lg p-3 sm:p-4\"\n                  >\n                    {/* Question Header */}\n                    <div className=\"flex flex-col sm:flex-row items-start gap-3 sm:gap-4 mb-4\">\n                      {/* Image Thumbnail */}\n                      {mediaUrl && (\n                        <img\n                          src={mediaUrl}\n                          alt=\"Question media\"\n                          className=\"w-16 h-16 sm:w-20 sm:h-20 object-cover rounded-lg flex-shrink-0\"\n                        />\n                      )}\n                      \n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex flex-wrap items-center gap-1.5 sm:gap-2 mb-1\">\n                          <span className=\"text-xs font-medium text-muted-foreground\">\n                            Q{index + 1}\n                          </span>\n                          {questionHasMedia && (\n                            viewCount > 0 ? (\n                              <span className=\"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded\">\n                                Image Viewed ({viewCount}x)\n                              </span>\n                            ) : (\n                              <span className=\"px-2 py-0.5 text-xs font-medium bg-yellow-100 text-yellow-700 rounded\">\n                                Image Not Viewed\n                              </span>\n                            )\n                          )}\n                        </div>\n                        <h4 className=\"font-medium text-foreground text-sm sm:text-base\">\n                          {question.question_text}\n                        </h4>\n                      </div>\n                    </div>\n\n                    {/* Stats Row */}\n                    <div className=\"flex flex-wrap gap-3 sm:gap-4 mb-4 p-2 sm:p-3 bg-muted/50 rounded-lg\">\n                      <div className=\"text-center\">\n                        <p className=\"text-lg sm:text-xl font-bold text-primary\">\n                          {question.total_responses}\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">Responses</p>\n                      </div>\n                      \n                      {questionHasMedia && (\n                        <div className=\"text-center border-l border-border pl-3 sm:pl-4\">\n                          <p className=\"text-lg sm:text-xl font-bold text-blue-600\">\n                            {viewCount}\n                          </p>\n                          <p className=\"text-xs text-muted-foreground\">Image Views</p>\n                        </div>\n                      )}\n                      \n                      {questionHasMedia && question.total_responses > 0 && (\n                        <div className=\"text-center border-l border-border pl-3 sm:pl-4\">\n                          <p className=\"text-lg sm:text-xl font-bold text-purple-600\">\n                            {calculatePercentage(viewCount, question.total_responses)}%\n                          </p>\n                          <p className=\"text-xs text-muted-foreground\">View Rate</p>\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Results */}\n                    {question.question_type === 'like_dislike' ? (\n                      <div className=\"grid grid-cols-2 gap-2 sm:gap-4\">\n                        <div className=\"text-center p-2 sm:p-4 bg-green-50 rounded-lg\">\n                          <p className=\"text-xl sm:text-2xl font-bold text-green-600\">\n                            {question.like_count || 0}\n                          </p>\n                          <p className=\"text-xs sm:text-sm text-green-700 mt-1\">\n                            Like ({calculatePercentage(question.like_count || 0, question.total_responses)}%)\n                          </p>\n                        </div>\n                        <div className=\"text-center p-2 sm:p-4 bg-red-50 rounded-lg\">\n                          <p className=\"text-xl sm:text-2xl font-bold text-red-600\">\n                            {question.dislike_count || 0}\n                          </p>\n                          <p className=\"text-xs sm:text-sm text-red-700 mt-1\">\n                            Dislike ({calculatePercentage(question.dislike_count || 0, question.total_responses)}%)\n                          </p>\n                        </div>\n                      </div>\n                    ) : (\n                      <div className=\"space-y-3\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <span className=\"text-sm font-medium\">Average Rating:</span>\n                          <span className=\"text-lg font-bold text-primary\">\n                            {question.average_rating?.toFixed(2) || '0.00'} / 5\n                          </span>\n                        </div>\n                        {[1, 2, 3, 4, 5].map((rating) => {\n                          const count = question[`rating_${rating}` as keyof typeof question] as number || 0;\n                          return (\n                            <div key={rating}>\n                              <div className=\"flex justify-between mb-1\">\n                                <span className=\"text-sm\">{rating} ‚òÖ</span>\n                                <span className=\"text-sm text-muted-foreground\">\n                                  {count} ({calculatePercentage(count, question.total_responses)}%)\n                                </span>\n                              </div>\n                              <div className=\"w-full bg-muted rounded-full h-2\">\n                                <div\n                                  className=\"bg-primary h-2 rounded-full transition-all\"\n                                  style={{\n                                    width: `${calculatePercentage(count, question.total_responses)}%`,\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          );\n                        })}\n                      </div>\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1354, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/ui/Button.tsx"],"sourcesContent":["import { ButtonHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'ghost' | 'danger';\n  size?: 'sm' | 'md' | 'lg';\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = 'primary', size = 'md', ...props }, ref) => {\n    return (\n      <button\n        ref={ref}\n        className={cn(\n          'inline-flex items-center justify-center rounded-lg font-medium transition-colors',\n          'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary',\n          'disabled:pointer-events-none disabled:opacity-50',\n          {\n            'bg-primary text-white hover:bg-primary-hover active:scale-[0.98]':\n              variant === 'primary',\n            'bg-muted text-foreground hover:bg-border':\n              variant === 'secondary',\n            'hover:bg-muted': variant === 'ghost',\n            'bg-red-600 text-white hover:bg-red-700': variant === 'danger',\n          },\n          {\n            'h-9 px-3 text-sm': size === 'sm',\n            'h-11 px-6 text-base': size === 'md',\n            'h-14 px-8 text-lg': size === 'lg',\n          },\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,uBAAS,IAAA,mNAAU,EACvB,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,GAAG,OAAO,EAAE;IAC1D,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,oFACA,8EACA,oDACA;YACE,oEACE,YAAY;YACd,4CACE,YAAY;YACd,kBAAkB,YAAY;YAC9B,0CAA0C,YAAY;QACxD,GACA;YACE,oBAAoB,SAAS;YAC7B,uBAAuB,SAAS;YAChC,qBAAqB,SAAS;QAChC,GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 1390, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/admin/IndividualResponses.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/Card';\nimport { Button } from '@/components/ui/Button';\nimport { formatDateTime } from '@/lib/utils';\nimport type { IndividualResponse } from '@/actions/responses';\n\ninterface IndividualResponsesProps {\n  responses: IndividualResponse[];\n}\n\nexport function IndividualResponses({ responses }: IndividualResponsesProps) {\n  const [expandedSession, setExpandedSession] = useState<string | null>(null);\n  const [showAll, setShowAll] = useState(false);\n\n  const displayedResponses = showAll ? responses : responses.slice(0, 10);\n\n  const getDeviceIcon = (device: string) => {\n    switch (device) {\n      case 'mobile': return 'üì±';\n      case 'tablet': return 'üì≤';\n      default: return 'üñ•Ô∏è';\n    }\n  };\n\n  const getAnswerDisplay = (answer: string, type: string) => {\n    if (type === 'like_dislike') {\n      return answer === 'like' ? (\n        <span className=\"text-green-600 font-medium\">üëç Like</span>\n      ) : (\n        <span className=\"text-red-600 font-medium\">üëé Dislike</span>\n      );\n    }\n    // Rating\n    return (\n      <span className=\"text-primary font-medium\">\n        {'‚≠ê'.repeat(parseInt(answer))} ({answer}/5)\n      </span>\n    );\n  };\n\n  if (responses.length === 0) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle>Individual Responses</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-muted-foreground text-center py-8\">\n            No responses yet\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <CardTitle>Individual Responses ({responses.length} users)</CardTitle>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-3\">\n          {displayedResponses.map((response, index) => (\n            <div\n              key={response.session_id}\n              className=\"border border-border rounded-lg overflow-hidden\"\n            >\n              {/* Header - Always visible */}\n              <button\n                onClick={() => setExpandedSession(\n                  expandedSession === response.session_id ? null : response.session_id\n                )}\n                className=\"w-full p-3 sm:p-4 flex items-start sm:items-center justify-between gap-2 hover:bg-muted/50 transition-colors text-left\"\n              >\n                <div className=\"flex items-start sm:items-center gap-2 sm:gap-4 flex-1 min-w-0\">\n                  <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-primary/10 rounded-full flex items-center justify-center text-sm sm:text-lg font-bold text-primary flex-shrink-0\">\n                    {index + 1}\n                  </div>\n                  <div className=\"min-w-0 flex-1\">\n                    <div className=\"flex items-center gap-1.5 sm:gap-2 flex-wrap text-xs sm:text-sm\">\n                      <span className=\"font-medium\">\n                        {response.gender.charAt(0).toUpperCase() + response.gender.slice(1).replace('_', ' ')}\n                      </span>\n                      <span className=\"text-muted-foreground\">‚Ä¢</span>\n                      <span className=\"text-muted-foreground\">\n                        {response.age_range}\n                      </span>\n                      <span className=\"hidden sm:inline text-muted-foreground\">‚Ä¢</span>\n                      <span className=\"hidden sm:inline\">\n                        {getDeviceIcon(response.device_type)} {response.browser}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground mt-1\">\n                      <span className=\"sm:hidden\">{getDeviceIcon(response.device_type)}</span>\n                      <span>{formatDateTime(response.submitted_at)}</span>\n                      <span>‚Ä¢</span>\n                      <span>{response.answers.length} answers</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-1 sm:gap-2 flex-shrink-0\">\n                  <span className=\"hidden sm:inline text-xs text-muted-foreground\">\n                    {response.os}\n                  </span>\n                  <svg\n                    className={`w-4 h-4 sm:w-5 sm:h-5 text-muted-foreground transition-transform ${\n                      expandedSession === response.session_id ? 'rotate-180' : ''\n                    }`}\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </div>\n              </button>\n\n              {/* Expanded content - Answers */}\n              {expandedSession === response.session_id && (\n                <div className=\"border-t border-border bg-muted/30 p-3 sm:p-4\">\n                  {/* Mobile device info */}\n                  <div className=\"sm:hidden mb-3 pb-3 border-b border-border text-xs text-muted-foreground\">\n                    <p>{response.browser} ‚Ä¢ {response.os}</p>\n                  </div>\n                  \n                  <h4 className=\"text-sm font-medium mb-3\">All Answers:</h4>\n                  <div className=\"space-y-2\">\n                    {response.answers.map((answer, answerIndex) => (\n                      <div\n                        key={answer.question_id}\n                        className=\"p-2 sm:p-3 bg-white rounded-lg border border-border\"\n                      >\n                        <div className=\"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-4\">\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"text-xs text-muted-foreground mb-1\">\n                              Q{answerIndex + 1}\n                            </p>\n                            <p className=\"text-xs sm:text-sm\">\n                              {answer.question_text}\n                            </p>\n                          </div>\n                          <div className=\"text-left sm:text-right flex-shrink-0\">\n                            {getAnswerDisplay(answer.answer_value, answer.question_type)}\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                  \n                  {/* Session Details */}\n                  <div className=\"mt-4 pt-4 border-t border-border\">\n                    <p className=\"text-xs text-muted-foreground break-all\">\n                      Session: {response.session_id.substring(0, 16)}...\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n\n        {/* Show More/Less Button */}\n        {responses.length > 10 && (\n          <div className=\"mt-4 text-center\">\n            <Button\n              variant=\"secondary\"\n              onClick={() => setShowAll(!showAll)}\n            >\n              {showAll ? `Show Less` : `Show All (${responses.length} users)`}\n            </Button>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}