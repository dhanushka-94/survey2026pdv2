{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n// Tailwind class name merger\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n// Format date for display\nexport function formatDate(date: string | Date): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  });\n}\n\n// Format datetime for display\nexport function formatDateTime(date: string | Date): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n}\n\n// Check if survey is currently active\nexport function isSurveyActive(\n  isActive: boolean,\n  startDate: string | null,\n  endDate: string | null\n): boolean {\n  if (!isActive) return false;\n\n  const now = new Date();\n\n  if (startDate && new Date(startDate) > now) {\n    return false;\n  }\n\n  if (endDate && new Date(endDate) < now) {\n    return false;\n  }\n\n  return true;\n}\n\n// Format time spent in seconds to readable format\nexport function formatTimeSpent(seconds: number): string {\n  if (seconds < 60) {\n    return `${seconds}s`;\n  }\n  const minutes = Math.floor(seconds / 60);\n  const remainingSeconds = seconds % 60;\n  return `${minutes}m ${remainingSeconds}s`;\n}\n\n// Generate session ID\nexport function generateSessionId(): string {\n  return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n}\n\n// Get or create session ID from localStorage\nexport function getOrCreateSessionId(forceNew: boolean = false): string {\n  if (typeof window === 'undefined') return '';\n\n  const storageKey = 'survey_session_id';\n  \n  // If forceNew is true, always generate a new session ID\n  if (forceNew) {\n    const sessionId = generateSessionId();\n    localStorage.setItem(storageKey, sessionId);\n    return sessionId;\n  }\n\n  let sessionId = localStorage.getItem(storageKey);\n\n  if (!sessionId) {\n    sessionId = generateSessionId();\n    localStorage.setItem(storageKey, sessionId);\n  }\n\n  return sessionId;\n}\n\n// End current session (clear session ID)\nexport function endSession(): void {\n  if (typeof window === 'undefined') return;\n  localStorage.removeItem('survey_session_id');\n}\n\n// Generate a new session ID and replace the old one\nexport function renewSessionId(): string {\n  endSession(); // First end the old session\n  return getOrCreateSessionId(true);\n}\n\n// Check if user has completed a survey\nexport function hasCompletedSurvey(surveyId: string): boolean {\n  if (typeof window === 'undefined') return false;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  if (!completedSurveys) return false;\n\n  const completed = JSON.parse(completedSurveys);\n  return completed.includes(surveyId);\n}\n\n// Mark survey as completed\nexport function markSurveyCompleted(surveyId: string): void {\n  if (typeof window === 'undefined') return;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  const completed = completedSurveys ? JSON.parse(completedSurveys) : [];\n\n  if (!completed.includes(surveyId)) {\n    completed.push(surveyId);\n    localStorage.setItem('completed_surveys', JSON.stringify(completed));\n  }\n}\n\n// Clear all completed surveys (useful for testing or allowing retakes)\nexport function clearCompletedSurveys(): void {\n  if (typeof window === 'undefined') return;\n  localStorage.removeItem('completed_surveys');\n}\n\n// Clear specific survey completion (allow retake)\nexport function clearSurveyCompletion(surveyId: string): void {\n  if (typeof window === 'undefined') return;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  if (!completedSurveys) return;\n\n  const completed = JSON.parse(completedSurveys);\n  const filtered = completed.filter((id: string) => id !== surveyId);\n  localStorage.setItem('completed_surveys', JSON.stringify(filtered));\n}\n\n// Calculate percentage\nexport function calculatePercentage(value: number, total: number): number {\n  if (total === 0) return 0;\n  return Math.round((value / total) * 100);\n}\n\n// Validate file type for media upload\nexport function isValidMediaFile(file: File): boolean {\n  const validTypes = [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/webp',\n    'video/mp4',\n    'video/webm',\n    'video/quicktime'\n  ];\n  return validTypes.includes(file.type);\n}\n\n// Format file size\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n}\n\n// Get admin path from env\nexport function getAdminPath(): string {\n  return process.env.ADMIN_SECRET_PATH || 'admin-x9QpK7';\n}\n\n// Validate admin path in URL\nexport function isAdminPath(pathname: string): boolean {\n  const adminPath = getAdminPath();\n  return pathname.startsWith(`/${adminPath}`);\n}\n\n// Device and Browser Detection\nexport interface DeviceInfo {\n  device_type: 'mobile' | 'tablet' | 'desktop';\n  browser: string;\n  os: string;\n}\n\nexport function getDeviceInfo(): DeviceInfo {\n  if (typeof window === 'undefined') {\n    return { device_type: 'desktop', browser: 'Unknown', os: 'Unknown' };\n  }\n\n  const ua = navigator.userAgent;\n  \n  // Detect device type\n  let device_type: 'mobile' | 'tablet' | 'desktop' = 'desktop';\n  if (/iPad|Android(?!.*Mobile)|Tablet/i.test(ua)) {\n    device_type = 'tablet';\n  } else if (/Mobile|iPhone|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(ua)) {\n    device_type = 'mobile';\n  }\n  \n  // Detect browser\n  let browser = 'Unknown';\n  if (/Edg\\//i.test(ua)) {\n    browser = 'Edge';\n  } else if (/Chrome/i.test(ua) && !/Chromium/i.test(ua)) {\n    browser = 'Chrome';\n  } else if (/Safari/i.test(ua) && !/Chrome/i.test(ua)) {\n    browser = 'Safari';\n  } else if (/Firefox/i.test(ua)) {\n    browser = 'Firefox';\n  } else if (/MSIE|Trident/i.test(ua)) {\n    browser = 'Internet Explorer';\n  } else if (/Opera|OPR/i.test(ua)) {\n    browser = 'Opera';\n  } else if (/Samsung/i.test(ua)) {\n    browser = 'Samsung Browser';\n  }\n  \n  // Detect OS\n  let os = 'Unknown';\n  if (/Windows/i.test(ua)) {\n    os = 'Windows';\n  } else if (/Mac OS X/i.test(ua) && !/iPhone|iPad|iPod/i.test(ua)) {\n    os = 'macOS';\n  } else if (/iPhone|iPad|iPod/i.test(ua)) {\n    os = 'iOS';\n  } else if (/Android/i.test(ua)) {\n    os = 'Android';\n  } else if (/Linux/i.test(ua)) {\n    os = 'Linux';\n  } else if (/CrOS/i.test(ua)) {\n    os = 'Chrome OS';\n  }\n  \n  return { device_type, browser, os };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/ui/Card.tsx"],"sourcesContent":["import { HTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface CardProps extends HTMLAttributes<HTMLDivElement> {}\n\nconst Card = forwardRef<HTMLDivElement, CardProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          'rounded-xl border border-border bg-background shadow-sm',\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\n\nCard.displayName = 'Card';\n\nconst CardHeader = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn('flex flex-col space-y-1.5 p-6', className)}\n        {...props}\n      />\n    );\n  }\n);\n\nCardHeader.displayName = 'CardHeader';\n\nconst CardTitle = forwardRef<\n  HTMLHeadingElement,\n  HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => {\n  return (\n    <h3\n      ref={ref}\n      className={cn('text-2xl font-semibold leading-none', className)}\n      {...props}\n    />\n  );\n});\n\nCardTitle.displayName = 'CardTitle';\n\nconst CardDescription = forwardRef<\n  HTMLParagraphElement,\n  HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  return (\n    <p\n      ref={ref}\n      className={cn('text-sm text-muted-foreground', className)}\n      {...props}\n    />\n  );\n});\n\nCardDescription.displayName = 'CardDescription';\n\nconst CardContent = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n    );\n  }\n);\n\nCardContent.displayName = 'CardContent';\n\nconst CardFooter = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn('flex items-center p-6 pt-0', className)}\n        {...props}\n      />\n    );\n  }\n);\n\nCardFooter.displayName = 'CardFooter';\n\nexport { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAIA,MAAM,qBAAO,IAAA,mNAAU,EACrB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAGF,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,IAAA,mNAAU,EAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAGF,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,IAAA,mNAAU,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,uCAAuC;QACpD,GAAG,KAAK;;;;;;AAGf;AAEA,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,IAAA,mNAAU,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,IAAA,mNAAU,EAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAElE;AAGF,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,IAAA,mNAAU,EAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAGF,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/ui/Input.tsx"],"sourcesContent":["import { InputHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  error?: string;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, label, error, ...props }, ref) => {\n    return (\n      <div className=\"w-full\">\n        {label && (\n          <label className=\"block text-sm font-medium text-foreground mb-2\">\n            {label}\n          </label>\n        )}\n        <input\n          ref={ref}\n          className={cn(\n            'flex h-11 w-full rounded-lg border border-border bg-background px-4 py-2',\n            'text-base text-foreground placeholder:text-muted-foreground',\n            'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary',\n            'disabled:cursor-not-allowed disabled:opacity-50',\n            error && 'border-red-500 focus-visible:ring-red-500',\n            className\n          )}\n          {...props}\n        />\n        {error && <p className=\"mt-1 text-sm text-red-600\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,sBAAQ,IAAA,mNAAU,EACtB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IACtC,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;0BACd;;;;;;0BAGL,8OAAC;gBACC,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,4EACA,+DACA,8EACA,mDACA,SAAS,6CACT;gBAED,GAAG,KAAK;;;;;;YAEV,uBAAS,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D;AAGF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 347, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/admin/IndividualResponsesView.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/Card';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { formatDateTime } from '@/lib/utils';\nimport type { IndividualResponse } from '@/actions/responses';\n\ninterface IndividualResponsesViewProps {\n  responses: IndividualResponse[];\n  surveyTitle: string;\n}\n\nexport function IndividualResponsesView({ responses, surveyTitle }: IndividualResponsesViewProps) {\n  const [expandedSession, setExpandedSession] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterDevice, setFilterDevice] = useState<string>('all');\n\n  // Get unique device types for filter\n  const deviceTypes = ['all', ...new Set(responses.map(r => r.device_type))];\n\n  // Filter responses\n  const filteredResponses = responses.filter(response => {\n    const matchesSearch = \n      response.display_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      response.browser.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      response.os.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesDevice = filterDevice === 'all' || response.device_type === filterDevice;\n    \n    return matchesSearch && matchesDevice;\n  });\n\n  const formatTime = (seconds: number): string => {\n    if (seconds < 60) return `${seconds}s`;\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}m ${secs}s`;\n  };\n\n  const getAnswerDisplay = (answer: string, type: string) => {\n    if (type === 'like_dislike') {\n      return answer === 'like' ? (\n        <span className=\"text-green-600 font-medium flex items-center gap-1\">\n          <span className=\"text-lg\">üëç</span> Like\n        </span>\n      ) : (\n        <span className=\"text-red-600 font-medium flex items-center gap-1\">\n          <span className=\"text-lg\">üëé</span> Dislike\n        </span>\n      );\n    }\n    // Rating\n    return (\n      <span className=\"text-primary font-medium flex items-center gap-1\">\n        <span className=\"text-lg\">{'‚≠ê'.repeat(parseInt(answer))}</span>\n        <span className=\"text-sm text-muted-foreground\">({answer}/5)</span>\n      </span>\n    );\n  };\n\n  // Calculate stats\n  const totalResponses = responses.length;\n  const avgTimePerSurvey = totalResponses > 0 \n    ? Math.round(responses.reduce((acc, r) => acc + r.total_time_seconds, 0) / totalResponses)\n    : 0;\n  const mobileCount = responses.filter(r => r.device_type === 'mobile').length;\n  const desktopCount = responses.filter(r => r.device_type === 'desktop').length;\n\n  if (responses.length === 0) {\n    return (\n      <Card>\n        <CardContent className=\"py-12\">\n          <div className=\"text-center\">\n            <div className=\"text-6xl mb-4\">üì≠</div>\n            <p className=\"text-muted-foreground text-lg\">No responses yet</p>\n            <p className=\"text-sm text-muted-foreground mt-2\">\n              Responses will appear here once users complete the survey\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Stats Overview */}\n      <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4\">\n        <Card>\n          <CardContent className=\"pt-4 pb-4 px-3 sm:px-6\">\n            <div className=\"text-center\">\n              <p className=\"text-2xl sm:text-3xl font-bold text-primary\">{totalResponses}</p>\n              <p className=\"text-xs sm:text-sm text-muted-foreground\">Total Users</p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-4 pb-4 px-3 sm:px-6\">\n            <div className=\"text-center\">\n              <p className=\"text-2xl sm:text-3xl font-bold text-blue-600\">{formatTime(avgTimePerSurvey)}</p>\n              <p className=\"text-xs sm:text-sm text-muted-foreground\">Avg. Time</p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-4 pb-4 px-3 sm:px-6\">\n            <div className=\"text-center\">\n              <p className=\"text-2xl sm:text-3xl font-bold text-green-600\">üì± {mobileCount}</p>\n              <p className=\"text-xs sm:text-sm text-muted-foreground\">Mobile</p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-4 pb-4 px-3 sm:px-6\">\n            <div className=\"text-center\">\n              <p className=\"text-2xl sm:text-3xl font-bold text-purple-600\">üñ•Ô∏è {desktopCount}</p>\n              <p className=\"text-xs sm:text-sm text-muted-foreground\">Desktop</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"py-4\">\n          <div className=\"flex flex-col sm:flex-row gap-3\">\n            <div className=\"flex-1\">\n              <Input\n                placeholder=\"Search by device, browser, OS...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full\"\n              />\n            </div>\n            <div className=\"flex gap-2\">\n              {deviceTypes.map(device => (\n                <button\n                  key={device}\n                  onClick={() => setFilterDevice(device)}\n                  className={`px-3 py-2 text-sm rounded-lg transition-colors ${\n                    filterDevice === device\n                      ? 'bg-primary text-white'\n                      : 'bg-muted hover:bg-muted/80 text-foreground'\n                  }`}\n                >\n                  {device === 'all' ? 'All' : device === 'mobile' ? 'üì± Mobile' : device === 'tablet' ? 'üì≤ Tablet' : 'üñ•Ô∏è Desktop'}\n                </button>\n              ))}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Responses List */}\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <CardTitle className=\"text-lg\">\n            {filteredResponses.length} Response{filteredResponses.length !== 1 ? 's' : ''}\n            {searchTerm || filterDevice !== 'all' ? ' (filtered)' : ''}\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            {filteredResponses.map((response) => (\n              <div\n                key={response.session_id}\n                className=\"border border-border rounded-lg overflow-hidden bg-white\"\n              >\n                {/* Header - Always visible */}\n                <button\n                  onClick={() => setExpandedSession(\n                    expandedSession === response.session_id ? null : response.session_id\n                  )}\n                  className=\"w-full p-3 sm:p-4 hover:bg-muted/30 transition-colors text-left\"\n                >\n                  <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-2\">\n                    {/* Left side - Device name and info */}\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center text-xl sm:text-2xl flex-shrink-0\">\n                        {response.device_type === 'mobile' ? 'üì±' : response.device_type === 'tablet' ? 'üì≤' : 'üñ•Ô∏è'}\n                      </div>\n                      <div>\n                        <h3 className=\"font-semibold text-foreground text-sm sm:text-base\">\n                          {response.display_name}\n                        </h3>\n                        <div className=\"flex flex-wrap items-center gap-1.5 text-xs text-muted-foreground mt-0.5\">\n                          <span>{response.os}</span>\n                          <span>‚Ä¢</span>\n                          <span className=\"capitalize\">{response.gender.replace('_', ' ')}</span>\n                          <span>‚Ä¢</span>\n                          <span>{response.age_range}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Right side - Stats */}\n                    <div className=\"flex items-center gap-3 sm:gap-4 ml-13 sm:ml-0\">\n                      <div className=\"text-center\">\n                        <p className=\"text-sm sm:text-base font-semibold text-blue-600\">\n                          {formatTime(response.total_time_seconds)}\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">Time</p>\n                      </div>\n                      <div className=\"text-center\">\n                        <p className=\"text-sm sm:text-base font-semibold text-foreground\">\n                          {response.answers.length}\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">Answers</p>\n                      </div>\n                      <div className=\"text-center hidden sm:block\">\n                        <p className=\"text-sm font-semibold text-green-600\">\n                          {response.answers.filter(a => a.has_media && a.media_viewed).length}/{response.answers.filter(a => a.has_media).length}\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">Images</p>\n                      </div>\n                      <svg\n                        className={`w-5 h-5 text-muted-foreground transition-transform ${\n                          expandedSession === response.session_id ? 'rotate-180' : ''\n                        }`}\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                      </svg>\n                    </div>\n                  </div>\n                </button>\n\n                {/* Expanded content - Detailed answers */}\n                {expandedSession === response.session_id && (\n                  <div className=\"border-t border-border bg-muted/20 p-3 sm:p-4\">\n                    {/* Meta info */}\n                    <div className=\"flex flex-wrap gap-2 mb-4 text-xs\">\n                      <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded\">\n                        üïê Total: {formatTime(response.total_time_seconds)}\n                      </span>\n                      <span className=\"px-2 py-1 bg-green-100 text-green-700 rounded\">\n                        üì∏ Images viewed: {response.answers.filter(a => a.has_media && a.media_viewed).length}/{response.answers.filter(a => a.has_media).length}\n                      </span>\n                      <span className=\"px-2 py-1 bg-purple-100 text-purple-700 rounded\">\n                        {response.browser} on {response.os}\n                      </span>\n                    </div>\n\n                    {/* Answers list */}\n                    <h4 className=\"text-sm font-semibold mb-3 text-foreground\">All Answers:</h4>\n                    <div className=\"space-y-2\">\n                      {response.answers.map((answer, answerIndex) => (\n                        <div\n                          key={answer.question_id}\n                          className=\"p-3 bg-white rounded-lg border border-border\"\n                        >\n                          <div className=\"flex flex-col sm:flex-row sm:items-start gap-2 sm:gap-4\">\n                            {/* Question info */}\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"flex items-center gap-2 mb-1\">\n                                <span className=\"text-xs font-medium text-muted-foreground bg-muted px-1.5 py-0.5 rounded\">\n                                  Q{answerIndex + 1}\n                                </span>\n                                {answer.has_media && (\n                                  answer.media_viewed ? (\n                                    <span className=\"text-xs px-1.5 py-0.5 bg-green-100 text-green-700 rounded flex items-center gap-1\">\n                                      üëÅÔ∏è Viewed\n                                    </span>\n                                  ) : (\n                                    <span className=\"text-xs px-1.5 py-0.5 bg-yellow-100 text-yellow-700 rounded flex items-center gap-1\">\n                                      üôà Not viewed\n                                    </span>\n                                  )\n                                )}\n                                <span className=\"text-xs text-muted-foreground\">\n                                  ‚è±Ô∏è {formatTime(answer.time_spent_seconds)}\n                                </span>\n                              </div>\n                              <p className=\"text-sm text-foreground\">\n                                {answer.question_text}\n                              </p>\n                            </div>\n                            \n                            {/* Answer value */}\n                            <div className=\"flex-shrink-0\">\n                              {getAnswerDisplay(answer.answer_value, answer.question_type)}\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                    \n                    {/* Session footer */}\n                    <div className=\"mt-4 pt-4 border-t border-border flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-xs text-muted-foreground\">\n                      <span>Submitted: {formatDateTime(response.submitted_at)}</span>\n                      <span className=\"font-mono text-[10px] break-all\">\n                        Session: {response.session_id.substring(0, 24)}...\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n\n          {filteredResponses.length === 0 && (\n            <div className=\"text-center py-8\">\n              <p className=\"text-muted-foreground\">No responses match your filters</p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAcO,SAAS,wBAAwB,EAAE,SAAS,EAAE,WAAW,EAAgC;IAC9F,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAgB;IACtE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAS;IAEzD,qCAAqC;IACrC,MAAM,cAAc;QAAC;WAAU,IAAI,IAAI,UAAU,GAAG,CAAC,CAAA,IAAK,EAAE,WAAW;KAAG;IAE1E,mBAAmB;IACnB,MAAM,oBAAoB,UAAU,MAAM,CAAC,CAAA;QACzC,MAAM,gBACJ,SAAS,YAAY,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OACnE,SAAS,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OAC9D,SAAS,EAAE,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;QAE3D,MAAM,gBAAgB,iBAAiB,SAAS,SAAS,WAAW,KAAK;QAEzE,OAAO,iBAAiB;IAC1B;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI,UAAU,IAAI,OAAO,GAAG,QAAQ,CAAC,CAAC;QACtC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;QAClC,MAAM,OAAO,UAAU;QACvB,OAAO,GAAG,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;IAC5B;IAEA,MAAM,mBAAmB,CAAC,QAAgB;QACxC,IAAI,SAAS,gBAAgB;YAC3B,OAAO,WAAW,uBAChB,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;wBAAK,WAAU;kCAAU;;;;;;oBAAS;;;;;;qCAGrC,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;wBAAK,WAAU;kCAAU;;;;;;oBAAS;;;;;;;QAGzC;QACA,SAAS;QACT,qBACE,8OAAC;YAAK,WAAU;;8BACd,8OAAC;oBAAK,WAAU;8BAAW,IAAI,MAAM,CAAC,SAAS;;;;;;8BAC/C,8OAAC;oBAAK,WAAU;;wBAAgC;wBAAE;wBAAO;;;;;;;;;;;;;IAG/D;IAEA,kBAAkB;IAClB,MAAM,iBAAiB,UAAU,MAAM;IACvC,MAAM,mBAAmB,iBAAiB,IACtC,KAAK,KAAK,CAAC,UAAU,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,kBAAkB,EAAE,KAAK,kBACzE;IACJ,MAAM,cAAc,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,WAAW,KAAK,UAAU,MAAM;IAC5E,MAAM,eAAe,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,WAAW,KAAK,WAAW,MAAM;IAE9E,IAAI,UAAU,MAAM,KAAK,GAAG;QAC1B,qBACE,8OAAC,wIAAI;sBACH,cAAA,8OAAC,+IAAW;gBAAC,WAAU;0BACrB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCAAgB;;;;;;sCAC/B,8OAAC;4BAAE,WAAU;sCAAgC;;;;;;sCAC7C,8OAAC;4BAAE,WAAU;sCAAqC;;;;;;;;;;;;;;;;;;;;;;IAO5D;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,wIAAI;kCACH,cAAA,8OAAC,+IAAW;4BAAC,WAAU;sCACrB,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAA+C;;;;;;kDAC5D,8OAAC;wCAAE,WAAU;kDAA2C;;;;;;;;;;;;;;;;;;;;;;kCAI9D,8OAAC,wIAAI;kCACH,cAAA,8OAAC,+IAAW;4BAAC,WAAU;sCACrB,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAAgD,WAAW;;;;;;kDACxE,8OAAC;wCAAE,WAAU;kDAA2C;;;;;;;;;;;;;;;;;;;;;;kCAI9D,8OAAC,wIAAI;kCACH,cAAA,8OAAC,+IAAW;4BAAC,WAAU;sCACrB,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;;4CAAgD;4CAAI;;;;;;;kDACjE,8OAAC;wCAAE,WAAU;kDAA2C;;;;;;;;;;;;;;;;;;;;;;kCAI9D,8OAAC,wIAAI;kCACH,cAAA,8OAAC,+IAAW;4BAAC,WAAU;sCACrB,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;;4CAAiD;4CAAK;;;;;;;kDACnE,8OAAC;wCAAE,WAAU;kDAA2C;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOhE,8OAAC,wIAAI;0BACH,cAAA,8OAAC,+IAAW;oBAAC,WAAU;8BACrB,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,0IAAK;oCACJ,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oCAC7C,WAAU;;;;;;;;;;;0CAGd,8OAAC;gCAAI,WAAU;0CACZ,YAAY,GAAG,CAAC,CAAA,uBACf,8OAAC;wCAEC,SAAS,IAAM,gBAAgB;wCAC/B,WAAW,CAAC,+CAA+C,EACzD,iBAAiB,SACb,0BACA,8CACJ;kDAED,WAAW,QAAQ,QAAQ,WAAW,WAAW,cAAc,WAAW,WAAW,cAAc;uCAR/F;;;;;;;;;;;;;;;;;;;;;;;;;;0BAiBjB,8OAAC,wIAAI;;kCACH,8OAAC,8IAAU;wBAAC,WAAU;kCACpB,cAAA,8OAAC,6IAAS;4BAAC,WAAU;;gCAClB,kBAAkB,MAAM;gCAAC;gCAAU,kBAAkB,MAAM,KAAK,IAAI,MAAM;gCAC1E,cAAc,iBAAiB,QAAQ,gBAAgB;;;;;;;;;;;;kCAG5D,8OAAC,+IAAW;;0CACV,8OAAC;gCAAI,WAAU;0CACZ,kBAAkB,GAAG,CAAC,CAAC,yBACtB,8OAAC;wCAEC,WAAU;;0DAGV,8OAAC;gDACC,SAAS,IAAM,mBACb,oBAAoB,SAAS,UAAU,GAAG,OAAO,SAAS,UAAU;gDAEtE,WAAU;0DAEV,cAAA,8OAAC;oDAAI,WAAU;;sEAEb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAI,WAAU;8EACZ,SAAS,WAAW,KAAK,WAAW,OAAO,SAAS,WAAW,KAAK,WAAW,OAAO;;;;;;8EAEzF,8OAAC;;sFACC,8OAAC;4EAAG,WAAU;sFACX,SAAS,YAAY;;;;;;sFAExB,8OAAC;4EAAI,WAAU;;8FACb,8OAAC;8FAAM,SAAS,EAAE;;;;;;8FAClB,8OAAC;8FAAK;;;;;;8FACN,8OAAC;oFAAK,WAAU;8FAAc,SAAS,MAAM,CAAC,OAAO,CAAC,KAAK;;;;;;8FAC3D,8OAAC;8FAAK;;;;;;8FACN,8OAAC;8FAAM,SAAS,SAAS;;;;;;;;;;;;;;;;;;;;;;;;sEAM/B,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;4EAAE,WAAU;sFACV,WAAW,SAAS,kBAAkB;;;;;;sFAEzC,8OAAC;4EAAE,WAAU;sFAAgC;;;;;;;;;;;;8EAE/C,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;4EAAE,WAAU;sFACV,SAAS,OAAO,CAAC,MAAM;;;;;;sFAE1B,8OAAC;4EAAE,WAAU;sFAAgC;;;;;;;;;;;;8EAE/C,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;4EAAE,WAAU;;gFACV,SAAS,OAAO,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,IAAI,EAAE,YAAY,EAAE,MAAM;gFAAC;gFAAE,SAAS,OAAO,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,EAAE,MAAM;;;;;;;sFAExH,8OAAC;4EAAE,WAAU;sFAAgC;;;;;;;;;;;;8EAE/C,8OAAC;oEACC,WAAW,CAAC,mDAAmD,EAC7D,oBAAoB,SAAS,UAAU,GAAG,eAAe,IACzD;oEACF,MAAK;oEACL,QAAO;oEACP,SAAQ;8EAER,cAAA,8OAAC;wEAAK,eAAc;wEAAQ,gBAAe;wEAAQ,aAAa;wEAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;4CAO5E,oBAAoB,SAAS,UAAU,kBACtC,8OAAC;gDAAI,WAAU;;kEAEb,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;;oEAA8C;oEACjD,WAAW,SAAS,kBAAkB;;;;;;;0EAEnD,8OAAC;gEAAK,WAAU;;oEAAgD;oEAC3C,SAAS,OAAO,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,IAAI,EAAE,YAAY,EAAE,MAAM;oEAAC;oEAAE,SAAS,OAAO,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,EAAE,MAAM;;;;;;;0EAE1I,8OAAC;gEAAK,WAAU;;oEACb,SAAS,OAAO;oEAAC;oEAAK,SAAS,EAAE;;;;;;;;;;;;;kEAKtC,8OAAC;wDAAG,WAAU;kEAA6C;;;;;;kEAC3D,8OAAC;wDAAI,WAAU;kEACZ,SAAS,OAAO,CAAC,GAAG,CAAC,CAAC,QAAQ,4BAC7B,8OAAC;gEAEC,WAAU;0EAEV,cAAA,8OAAC;oEAAI,WAAU;;sFAEb,8OAAC;4EAAI,WAAU;;8FACb,8OAAC;oFAAI,WAAU;;sGACb,8OAAC;4FAAK,WAAU;;gGAA2E;gGACvF,cAAc;;;;;;;wFAEjB,OAAO,SAAS,IAAI,CACnB,OAAO,YAAY,iBACjB,8OAAC;4FAAK,WAAU;sGAAoF;;;;;iHAIpG,8OAAC;4FAAK,WAAU;sGAAsF;;;;;gGAI1G;sGACA,8OAAC;4FAAK,WAAU;;gGAAgC;gGAC1C,WAAW,OAAO,kBAAkB;;;;;;;;;;;;;8FAG5C,8OAAC;oFAAE,WAAU;8FACV,OAAO,aAAa;;;;;;;;;;;;sFAKzB,8OAAC;4EAAI,WAAU;sFACZ,iBAAiB,OAAO,YAAY,EAAE,OAAO,aAAa;;;;;;;;;;;;+DAhC1D,OAAO,WAAW;;;;;;;;;;kEAwC7B,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;;oEAAK;oEAAY,IAAA,qIAAc,EAAC,SAAS,YAAY;;;;;;;0EACtD,8OAAC;gEAAK,WAAU;;oEAAkC;oEACtC,SAAS,UAAU,CAAC,SAAS,CAAC,GAAG;oEAAI;;;;;;;;;;;;;;;;;;;;uCAhIlD,SAAS,UAAU;;;;;;;;;;4BAyI7B,kBAAkB,MAAM,KAAK,mBAC5B,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnD"}}]
}