{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/actions/questions.ts"],"sourcesContent":["'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport { supabaseAdmin } from '@/lib/supabase/admin';\nimport type { QuestionFormData } from '@/lib/types';\n\nexport async function getQuestions(surveyId: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('survey_id', surveyId)\n      .order('order_index', { ascending: true });\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get questions error:', error);\n    return { success: false, error: 'Failed to fetch questions' };\n  }\n}\n\nexport async function getQuestion(id: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get question error:', error);\n    return { success: false, error: 'Failed to fetch question' };\n  }\n}\n\nexport async function createQuestion(formData: QuestionFormData) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .insert([\n        {\n          survey_id: formData.survey_id,\n          category_id: formData.category_id || null,\n          question_text: formData.question_text,\n          description: formData.description || null,\n          media_url: formData.media_url || null,\n          question_type: formData.question_type,\n          order_index: formData.order_index,\n        },\n      ])\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${formData.survey_id}`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Create question error:', error);\n    return { success: false, error: 'Failed to create question' };\n  }\n}\n\nexport async function updateQuestion(id: string, formData: Partial<QuestionFormData>) {\n  try {\n    const updateData: any = {};\n    \n    if (formData.question_text !== undefined) updateData.question_text = formData.question_text;\n    if (formData.description !== undefined) updateData.description = formData.description || null;\n    if (formData.media_url !== undefined) updateData.media_url = formData.media_url || null;\n    if (formData.question_type !== undefined) updateData.question_type = formData.question_type;\n    if (formData.category_id !== undefined) updateData.category_id = formData.category_id || null;\n    if (formData.order_index !== undefined) updateData.order_index = formData.order_index;\n\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .update(updateData)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Update question error:', error);\n    return { success: false, error: 'Failed to update question' };\n  }\n}\n\nexport async function deleteQuestion(id: string, surveyId: string) {\n  try {\n    const { error } = await supabaseAdmin\n      .from('questions')\n      .delete()\n      .eq('id', id);\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${surveyId}`);\n    return { success: true };\n  } catch (error) {\n    console.error('Delete question error:', error);\n    return { success: false, error: 'Failed to delete question' };\n  }\n}\n\nexport async function uploadMedia(file: File): Promise<{ success: boolean; url?: string; error?: string }> {\n  try {\n    // Generate unique filename\n    const fileExt = file.name.split('.').pop();\n    const fileName = `${Date.now()}_${Math.random().toString(36).substring(7)}.${fileExt}`;\n    \n    // Upload to Supabase Storage\n    const { data, error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .upload(fileName, file, {\n        cacheControl: '3600',\n        upsert: false,\n      });\n\n    if (error) throw error;\n\n    // Get public URL\n    const { data: urlData } = supabaseAdmin.storage\n      .from('survey-media')\n      .getPublicUrl(fileName);\n\n    return { success: true, url: urlData.publicUrl };\n  } catch (error) {\n    console.error('Upload media error:', error);\n    return { success: false, error: 'Failed to upload media' };\n  }\n}\n\nexport async function deleteMedia(url: string) {\n  try {\n    // Extract filename from URL\n    const filename = url.split('/').pop();\n    if (!filename) throw new Error('Invalid URL');\n\n    const { error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .remove([filename]);\n\n    if (error) throw error;\n\n    return { success: true };\n  } catch (error) {\n    console.error('Delete media error:', error);\n    return { success: false, error: 'Failed to delete media' };\n  }\n}\n\nexport async function bulkImportQuestions(data: {\n  survey_id: string;\n  category_id: string;\n  question_type: string;\n  questions: string[];\n  start_order_index: number;\n}) {\n  try {\n    const { survey_id, category_id, question_type, questions, start_order_index } = data;\n\n    // Filter out empty lines and trim whitespace\n    const cleanedQuestions = questions\n      .map(q => q.trim())\n      .filter(q => q.length > 0);\n\n    if (cleanedQuestions.length === 0) {\n      return { success: false, error: 'No valid questions to import' };\n    }\n\n    // Create question records\n    const questionRecords = cleanedQuestions.map((question_text, index) => ({\n      survey_id,\n      category_id: category_id || null,\n      question_text,\n      description: null,\n      media_url: null,\n      question_type,\n      order_index: start_order_index + index,\n    }));\n\n    const { data: insertedData, error } = await supabaseAdmin\n      .from('questions')\n      .insert(questionRecords)\n      .select();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${survey_id}`);\n    return { \n      success: true, \n      data: insertedData,\n      count: insertedData?.length || 0 \n    };\n  } catch (error) {\n    console.error('Bulk import questions error:', error);\n    return { success: false, error: 'Failed to import questions' };\n  }\n}\n"],"names":[],"mappings":";;;;;;;MA8CsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,kDAAA"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/actions/questions.ts"],"sourcesContent":["'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport { supabaseAdmin } from '@/lib/supabase/admin';\nimport type { QuestionFormData } from '@/lib/types';\n\nexport async function getQuestions(surveyId: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('survey_id', surveyId)\n      .order('order_index', { ascending: true });\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get questions error:', error);\n    return { success: false, error: 'Failed to fetch questions' };\n  }\n}\n\nexport async function getQuestion(id: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get question error:', error);\n    return { success: false, error: 'Failed to fetch question' };\n  }\n}\n\nexport async function createQuestion(formData: QuestionFormData) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .insert([\n        {\n          survey_id: formData.survey_id,\n          category_id: formData.category_id || null,\n          question_text: formData.question_text,\n          description: formData.description || null,\n          media_url: formData.media_url || null,\n          question_type: formData.question_type,\n          order_index: formData.order_index,\n        },\n      ])\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${formData.survey_id}`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Create question error:', error);\n    return { success: false, error: 'Failed to create question' };\n  }\n}\n\nexport async function updateQuestion(id: string, formData: Partial<QuestionFormData>) {\n  try {\n    const updateData: any = {};\n    \n    if (formData.question_text !== undefined) updateData.question_text = formData.question_text;\n    if (formData.description !== undefined) updateData.description = formData.description || null;\n    if (formData.media_url !== undefined) updateData.media_url = formData.media_url || null;\n    if (formData.question_type !== undefined) updateData.question_type = formData.question_type;\n    if (formData.category_id !== undefined) updateData.category_id = formData.category_id || null;\n    if (formData.order_index !== undefined) updateData.order_index = formData.order_index;\n\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .update(updateData)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Update question error:', error);\n    return { success: false, error: 'Failed to update question' };\n  }\n}\n\nexport async function deleteQuestion(id: string, surveyId: string) {\n  try {\n    const { error } = await supabaseAdmin\n      .from('questions')\n      .delete()\n      .eq('id', id);\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${surveyId}`);\n    return { success: true };\n  } catch (error) {\n    console.error('Delete question error:', error);\n    return { success: false, error: 'Failed to delete question' };\n  }\n}\n\nexport async function uploadMedia(file: File): Promise<{ success: boolean; url?: string; error?: string }> {\n  try {\n    // Generate unique filename\n    const fileExt = file.name.split('.').pop();\n    const fileName = `${Date.now()}_${Math.random().toString(36).substring(7)}.${fileExt}`;\n    \n    // Upload to Supabase Storage\n    const { data, error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .upload(fileName, file, {\n        cacheControl: '3600',\n        upsert: false,\n      });\n\n    if (error) throw error;\n\n    // Get public URL\n    const { data: urlData } = supabaseAdmin.storage\n      .from('survey-media')\n      .getPublicUrl(fileName);\n\n    return { success: true, url: urlData.publicUrl };\n  } catch (error) {\n    console.error('Upload media error:', error);\n    return { success: false, error: 'Failed to upload media' };\n  }\n}\n\nexport async function deleteMedia(url: string) {\n  try {\n    // Extract filename from URL\n    const filename = url.split('/').pop();\n    if (!filename) throw new Error('Invalid URL');\n\n    const { error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .remove([filename]);\n\n    if (error) throw error;\n\n    return { success: true };\n  } catch (error) {\n    console.error('Delete media error:', error);\n    return { success: false, error: 'Failed to delete media' };\n  }\n}\n\nexport async function bulkImportQuestions(data: {\n  survey_id: string;\n  category_id: string;\n  question_type: string;\n  questions: string[];\n  start_order_index: number;\n}) {\n  try {\n    const { survey_id, category_id, question_type, questions, start_order_index } = data;\n\n    // Filter out empty lines and trim whitespace\n    const cleanedQuestions = questions\n      .map(q => q.trim())\n      .filter(q => q.length > 0);\n\n    if (cleanedQuestions.length === 0) {\n      return { success: false, error: 'No valid questions to import' };\n    }\n\n    // Create question records\n    const questionRecords = cleanedQuestions.map((question_text, index) => ({\n      survey_id,\n      category_id: category_id || null,\n      question_text,\n      description: null,\n      media_url: null,\n      question_type,\n      order_index: start_order_index + index,\n    }));\n\n    const { data: insertedData, error } = await supabaseAdmin\n      .from('questions')\n      .insert(questionRecords)\n      .select();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${survey_id}`);\n    return { \n      success: true, \n      data: insertedData,\n      count: insertedData?.length || 0 \n    };\n  } catch (error) {\n    console.error('Bulk import questions error:', error);\n    return { success: false, error: 'Failed to import questions' };\n  }\n}\n"],"names":[],"mappings":";;;;;;;MA0EsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,kDAAA"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/actions/questions.ts"],"sourcesContent":["'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport { supabaseAdmin } from '@/lib/supabase/admin';\nimport type { QuestionFormData } from '@/lib/types';\n\nexport async function getQuestions(surveyId: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('survey_id', surveyId)\n      .order('order_index', { ascending: true });\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get questions error:', error);\n    return { success: false, error: 'Failed to fetch questions' };\n  }\n}\n\nexport async function getQuestion(id: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get question error:', error);\n    return { success: false, error: 'Failed to fetch question' };\n  }\n}\n\nexport async function createQuestion(formData: QuestionFormData) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .insert([\n        {\n          survey_id: formData.survey_id,\n          category_id: formData.category_id || null,\n          question_text: formData.question_text,\n          description: formData.description || null,\n          media_url: formData.media_url || null,\n          question_type: formData.question_type,\n          order_index: formData.order_index,\n        },\n      ])\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${formData.survey_id}`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Create question error:', error);\n    return { success: false, error: 'Failed to create question' };\n  }\n}\n\nexport async function updateQuestion(id: string, formData: Partial<QuestionFormData>) {\n  try {\n    const updateData: any = {};\n    \n    if (formData.question_text !== undefined) updateData.question_text = formData.question_text;\n    if (formData.description !== undefined) updateData.description = formData.description || null;\n    if (formData.media_url !== undefined) updateData.media_url = formData.media_url || null;\n    if (formData.question_type !== undefined) updateData.question_type = formData.question_type;\n    if (formData.category_id !== undefined) updateData.category_id = formData.category_id || null;\n    if (formData.order_index !== undefined) updateData.order_index = formData.order_index;\n\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .update(updateData)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Update question error:', error);\n    return { success: false, error: 'Failed to update question' };\n  }\n}\n\nexport async function deleteQuestion(id: string, surveyId: string) {\n  try {\n    const { error } = await supabaseAdmin\n      .from('questions')\n      .delete()\n      .eq('id', id);\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${surveyId}`);\n    return { success: true };\n  } catch (error) {\n    console.error('Delete question error:', error);\n    return { success: false, error: 'Failed to delete question' };\n  }\n}\n\nexport async function uploadMedia(file: File): Promise<{ success: boolean; url?: string; error?: string }> {\n  try {\n    // Generate unique filename\n    const fileExt = file.name.split('.').pop();\n    const fileName = `${Date.now()}_${Math.random().toString(36).substring(7)}.${fileExt}`;\n    \n    // Upload to Supabase Storage\n    const { data, error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .upload(fileName, file, {\n        cacheControl: '3600',\n        upsert: false,\n      });\n\n    if (error) throw error;\n\n    // Get public URL\n    const { data: urlData } = supabaseAdmin.storage\n      .from('survey-media')\n      .getPublicUrl(fileName);\n\n    return { success: true, url: urlData.publicUrl };\n  } catch (error) {\n    console.error('Upload media error:', error);\n    return { success: false, error: 'Failed to upload media' };\n  }\n}\n\nexport async function deleteMedia(url: string) {\n  try {\n    // Extract filename from URL\n    const filename = url.split('/').pop();\n    if (!filename) throw new Error('Invalid URL');\n\n    const { error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .remove([filename]);\n\n    if (error) throw error;\n\n    return { success: true };\n  } catch (error) {\n    console.error('Delete media error:', error);\n    return { success: false, error: 'Failed to delete media' };\n  }\n}\n\nexport async function bulkImportQuestions(data: {\n  survey_id: string;\n  category_id: string;\n  question_type: string;\n  questions: string[];\n  start_order_index: number;\n}) {\n  try {\n    const { survey_id, category_id, question_type, questions, start_order_index } = data;\n\n    // Filter out empty lines and trim whitespace\n    const cleanedQuestions = questions\n      .map(q => q.trim())\n      .filter(q => q.length > 0);\n\n    if (cleanedQuestions.length === 0) {\n      return { success: false, error: 'No valid questions to import' };\n    }\n\n    // Create question records\n    const questionRecords = cleanedQuestions.map((question_text, index) => ({\n      survey_id,\n      category_id: category_id || null,\n      question_text,\n      description: null,\n      media_url: null,\n      question_type,\n      order_index: start_order_index + index,\n    }));\n\n    const { data: insertedData, error } = await supabaseAdmin\n      .from('questions')\n      .insert(questionRecords)\n      .select();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${survey_id}`);\n    return { \n      success: true, \n      data: insertedData,\n      count: insertedData?.length || 0 \n    };\n  } catch (error) {\n    console.error('Bulk import questions error:', error);\n    return { success: false, error: 'Failed to import questions' };\n  }\n}\n"],"names":[],"mappings":";;;;;;;MAsGsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,kDAAA"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/actions/questions.ts"],"sourcesContent":["'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport { supabaseAdmin } from '@/lib/supabase/admin';\nimport type { QuestionFormData } from '@/lib/types';\n\nexport async function getQuestions(surveyId: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('survey_id', surveyId)\n      .order('order_index', { ascending: true });\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get questions error:', error);\n    return { success: false, error: 'Failed to fetch questions' };\n  }\n}\n\nexport async function getQuestion(id: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get question error:', error);\n    return { success: false, error: 'Failed to fetch question' };\n  }\n}\n\nexport async function createQuestion(formData: QuestionFormData) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .insert([\n        {\n          survey_id: formData.survey_id,\n          category_id: formData.category_id || null,\n          question_text: formData.question_text,\n          description: formData.description || null,\n          media_url: formData.media_url || null,\n          question_type: formData.question_type,\n          order_index: formData.order_index,\n        },\n      ])\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${formData.survey_id}`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Create question error:', error);\n    return { success: false, error: 'Failed to create question' };\n  }\n}\n\nexport async function updateQuestion(id: string, formData: Partial<QuestionFormData>) {\n  try {\n    const updateData: any = {};\n    \n    if (formData.question_text !== undefined) updateData.question_text = formData.question_text;\n    if (formData.description !== undefined) updateData.description = formData.description || null;\n    if (formData.media_url !== undefined) updateData.media_url = formData.media_url || null;\n    if (formData.question_type !== undefined) updateData.question_type = formData.question_type;\n    if (formData.category_id !== undefined) updateData.category_id = formData.category_id || null;\n    if (formData.order_index !== undefined) updateData.order_index = formData.order_index;\n\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .update(updateData)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Update question error:', error);\n    return { success: false, error: 'Failed to update question' };\n  }\n}\n\nexport async function deleteQuestion(id: string, surveyId: string) {\n  try {\n    const { error } = await supabaseAdmin\n      .from('questions')\n      .delete()\n      .eq('id', id);\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${surveyId}`);\n    return { success: true };\n  } catch (error) {\n    console.error('Delete question error:', error);\n    return { success: false, error: 'Failed to delete question' };\n  }\n}\n\nexport async function uploadMedia(file: File): Promise<{ success: boolean; url?: string; error?: string }> {\n  try {\n    // Generate unique filename\n    const fileExt = file.name.split('.').pop();\n    const fileName = `${Date.now()}_${Math.random().toString(36).substring(7)}.${fileExt}`;\n    \n    // Upload to Supabase Storage\n    const { data, error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .upload(fileName, file, {\n        cacheControl: '3600',\n        upsert: false,\n      });\n\n    if (error) throw error;\n\n    // Get public URL\n    const { data: urlData } = supabaseAdmin.storage\n      .from('survey-media')\n      .getPublicUrl(fileName);\n\n    return { success: true, url: urlData.publicUrl };\n  } catch (error) {\n    console.error('Upload media error:', error);\n    return { success: false, error: 'Failed to upload media' };\n  }\n}\n\nexport async function deleteMedia(url: string) {\n  try {\n    // Extract filename from URL\n    const filename = url.split('/').pop();\n    if (!filename) throw new Error('Invalid URL');\n\n    const { error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .remove([filename]);\n\n    if (error) throw error;\n\n    return { success: true };\n  } catch (error) {\n    console.error('Delete media error:', error);\n    return { success: false, error: 'Failed to delete media' };\n  }\n}\n\nexport async function bulkImportQuestions(data: {\n  survey_id: string;\n  category_id: string;\n  question_type: string;\n  questions: string[];\n  start_order_index: number;\n}) {\n  try {\n    const { survey_id, category_id, question_type, questions, start_order_index } = data;\n\n    // Filter out empty lines and trim whitespace\n    const cleanedQuestions = questions\n      .map(q => q.trim())\n      .filter(q => q.length > 0);\n\n    if (cleanedQuestions.length === 0) {\n      return { success: false, error: 'No valid questions to import' };\n    }\n\n    // Create question records\n    const questionRecords = cleanedQuestions.map((question_text, index) => ({\n      survey_id,\n      category_id: category_id || null,\n      question_text,\n      description: null,\n      media_url: null,\n      question_type,\n      order_index: start_order_index + index,\n    }));\n\n    const { data: insertedData, error } = await supabaseAdmin\n      .from('questions')\n      .insert(questionRecords)\n      .select();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${survey_id}`);\n    return { \n      success: true, \n      data: insertedData,\n      count: insertedData?.length || 0 \n    };\n  } catch (error) {\n    console.error('Bulk import questions error:', error);\n    return { success: false, error: 'Failed to import questions' };\n  }\n}\n"],"names":[],"mappings":";;;;;;;MAsKsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,uDAAA"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n// Tailwind class name merger\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n// Format date for display\nexport function formatDate(date: string | Date): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  });\n}\n\n// Format datetime for display\nexport function formatDateTime(date: string | Date): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return d.toLocaleString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n}\n\n// Check if survey is currently active\nexport function isSurveyActive(\n  isActive: boolean,\n  startDate: string | null,\n  endDate: string | null\n): boolean {\n  if (!isActive) return false;\n\n  const now = new Date();\n\n  if (startDate && new Date(startDate) > now) {\n    return false;\n  }\n\n  if (endDate && new Date(endDate) < now) {\n    return false;\n  }\n\n  return true;\n}\n\n// Format time spent in seconds to readable format\nexport function formatTimeSpent(seconds: number): string {\n  if (seconds < 60) {\n    return `${seconds}s`;\n  }\n  const minutes = Math.floor(seconds / 60);\n  const remainingSeconds = seconds % 60;\n  return `${minutes}m ${remainingSeconds}s`;\n}\n\n// Generate session ID\nexport function generateSessionId(): string {\n  return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n}\n\n// Get or create session ID from localStorage\nexport function getOrCreateSessionId(forceNew: boolean = false): string {\n  if (typeof window === 'undefined') return '';\n\n  const storageKey = 'survey_session_id';\n  \n  // If forceNew is true, always generate a new session ID\n  if (forceNew) {\n    const sessionId = generateSessionId();\n    localStorage.setItem(storageKey, sessionId);\n    return sessionId;\n  }\n\n  let sessionId = localStorage.getItem(storageKey);\n\n  if (!sessionId) {\n    sessionId = generateSessionId();\n    localStorage.setItem(storageKey, sessionId);\n  }\n\n  return sessionId;\n}\n\n// End current session (clear session ID)\nexport function endSession(): void {\n  if (typeof window === 'undefined') return;\n  localStorage.removeItem('survey_session_id');\n}\n\n// Generate a new session ID and replace the old one\nexport function renewSessionId(): string {\n  endSession(); // First end the old session\n  return getOrCreateSessionId(true);\n}\n\n// Check if user has completed a survey\nexport function hasCompletedSurvey(surveyId: string): boolean {\n  if (typeof window === 'undefined') return false;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  if (!completedSurveys) return false;\n\n  const completed = JSON.parse(completedSurveys);\n  return completed.includes(surveyId);\n}\n\n// Mark survey as completed\nexport function markSurveyCompleted(surveyId: string): void {\n  if (typeof window === 'undefined') return;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  const completed = completedSurveys ? JSON.parse(completedSurveys) : [];\n\n  if (!completed.includes(surveyId)) {\n    completed.push(surveyId);\n    localStorage.setItem('completed_surveys', JSON.stringify(completed));\n  }\n}\n\n// Clear all completed surveys (useful for testing or allowing retakes)\nexport function clearCompletedSurveys(): void {\n  if (typeof window === 'undefined') return;\n  localStorage.removeItem('completed_surveys');\n}\n\n// Clear specific survey completion (allow retake)\nexport function clearSurveyCompletion(surveyId: string): void {\n  if (typeof window === 'undefined') return;\n\n  const completedSurveys = localStorage.getItem('completed_surveys');\n  if (!completedSurveys) return;\n\n  const completed = JSON.parse(completedSurveys);\n  const filtered = completed.filter((id: string) => id !== surveyId);\n  localStorage.setItem('completed_surveys', JSON.stringify(filtered));\n}\n\n// Calculate percentage\nexport function calculatePercentage(value: number, total: number): number {\n  if (total === 0) return 0;\n  return Math.round((value / total) * 100);\n}\n\n// Validate file type for media upload\nexport function isValidMediaFile(file: File): boolean {\n  const validTypes = [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/webp',\n    'video/mp4',\n    'video/webm',\n    'video/quicktime'\n  ];\n  return validTypes.includes(file.type);\n}\n\n// Format file size\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n}\n\n// Get admin path from env\nexport function getAdminPath(): string {\n  return process.env.ADMIN_SECRET_PATH || 'admin-x9QpK7';\n}\n\n// Validate admin path in URL\nexport function isAdminPath(pathname: string): boolean {\n  const adminPath = getAdminPath();\n  return pathname.startsWith(`/${adminPath}`);\n}\n\n// Device and Browser Detection\nexport interface DeviceInfo {\n  device_type: 'mobile' | 'tablet' | 'desktop';\n  browser: string;\n  os: string;\n}\n\nexport function getDeviceInfo(): DeviceInfo {\n  if (typeof window === 'undefined') {\n    return { device_type: 'desktop', browser: 'Unknown', os: 'Unknown' };\n  }\n\n  const ua = navigator.userAgent;\n  \n  // Detect device type\n  let device_type: 'mobile' | 'tablet' | 'desktop' = 'desktop';\n  if (/iPad|Android(?!.*Mobile)|Tablet/i.test(ua)) {\n    device_type = 'tablet';\n  } else if (/Mobile|iPhone|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(ua)) {\n    device_type = 'mobile';\n  }\n  \n  // Detect browser\n  let browser = 'Unknown';\n  if (/Edg\\//i.test(ua)) {\n    browser = 'Edge';\n  } else if (/Chrome/i.test(ua) && !/Chromium/i.test(ua)) {\n    browser = 'Chrome';\n  } else if (/Safari/i.test(ua) && !/Chrome/i.test(ua)) {\n    browser = 'Safari';\n  } else if (/Firefox/i.test(ua)) {\n    browser = 'Firefox';\n  } else if (/MSIE|Trident/i.test(ua)) {\n    browser = 'Internet Explorer';\n  } else if (/Opera|OPR/i.test(ua)) {\n    browser = 'Opera';\n  } else if (/Samsung/i.test(ua)) {\n    browser = 'Samsung Browser';\n  }\n  \n  // Detect OS\n  let os = 'Unknown';\n  if (/Windows/i.test(ua)) {\n    os = 'Windows';\n  } else if (/Mac OS X/i.test(ua) && !/iPhone|iPad|iPod/i.test(ua)) {\n    os = 'macOS';\n  } else if (/iPhone|iPad|iPod/i.test(ua)) {\n    os = 'iOS';\n  } else if (/Android/i.test(ua)) {\n    os = 'Android';\n  } else if (/Linux/i.test(ua)) {\n    os = 'Linux';\n  } else if (/CrOS/i.test(ua)) {\n    os = 'Chrome OS';\n  }\n  \n  return { device_type, browser, os };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/ui/Button.tsx"],"sourcesContent":["import { ButtonHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'ghost' | 'danger';\n  size?: 'sm' | 'md' | 'lg';\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = 'primary', size = 'md', ...props }, ref) => {\n    return (\n      <button\n        ref={ref}\n        className={cn(\n          'inline-flex items-center justify-center rounded-lg font-medium transition-colors',\n          'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary',\n          'disabled:pointer-events-none disabled:opacity-50',\n          {\n            'bg-primary text-white hover:bg-primary-hover active:scale-[0.98]':\n              variant === 'primary',\n            'bg-muted text-foreground hover:bg-border':\n              variant === 'secondary',\n            'hover:bg-muted': variant === 'ghost',\n            'bg-red-600 text-white hover:bg-red-700': variant === 'danger',\n          },\n          {\n            'h-9 px-3 text-sm': size === 'sm',\n            'h-11 px-6 text-base': size === 'md',\n            'h-14 px-8 text-lg': size === 'lg',\n          },\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,uBAAS,IAAA,mNAAU,EACvB,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,GAAG,OAAO,EAAE;IAC1D,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,oFACA,8EACA,oDACA;YACE,oEACE,YAAY;YACd,4CACE,YAAY;YACd,kBAAkB,YAAY;YAC9B,0CAA0C,YAAY;QACxD,GACA;YACE,oBAAoB,SAAS;YAC7B,uBAAuB,SAAS;YAChC,qBAAqB,SAAS;QAChC,GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/ui/Input.tsx"],"sourcesContent":["import { InputHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  error?: string;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, label, error, ...props }, ref) => {\n    return (\n      <div className=\"w-full\">\n        {label && (\n          <label className=\"block text-sm font-medium text-foreground mb-2\">\n            {label}\n          </label>\n        )}\n        <input\n          ref={ref}\n          className={cn(\n            'flex h-11 w-full rounded-lg border border-border bg-background px-4 py-2',\n            'text-base text-foreground placeholder:text-muted-foreground',\n            'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary',\n            'disabled:cursor-not-allowed disabled:opacity-50',\n            error && 'border-red-500 focus-visible:ring-red-500',\n            className\n          )}\n          {...props}\n        />\n        {error && <p className=\"mt-1 text-sm text-red-600\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,sBAAQ,IAAA,mNAAU,EACtB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IACtC,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;0BACd;;;;;;0BAGL,8OAAC;gBACC,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,4EACA,+DACA,8EACA,mDACA,SAAS,6CACT;gBAED,GAAG,KAAK;;;;;;YAEV,uBAAS,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D;AAGF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/ui/Textarea.tsx"],"sourcesContent":["import { TextareaHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface TextareaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\n  label?: string;\n  error?: string;\n}\n\nconst Textarea = forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, label, error, ...props }, ref) => {\n    return (\n      <div className=\"w-full\">\n        {label && (\n          <label className=\"block text-sm font-medium text-foreground mb-2\">\n            {label}\n          </label>\n        )}\n        <textarea\n          ref={ref}\n          className={cn(\n            'flex min-h-[120px] w-full rounded-lg border border-border bg-background px-4 py-3',\n            'text-base text-foreground placeholder:text-muted-foreground',\n            'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary',\n            'disabled:cursor-not-allowed disabled:opacity-50',\n            'resize-none',\n            error && 'border-red-500 focus-visible:ring-red-500',\n            className\n          )}\n          {...props}\n        />\n        {error && <p className=\"mt-1 text-sm text-red-600\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nTextarea.displayName = 'Textarea';\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,yBAAW,IAAA,mNAAU,EACzB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IACtC,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;0BACd;;;;;;0BAGL,8OAAC;gBACC,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,qFACA,+DACA,8EACA,mDACA,eACA,SAAS,6CACT;gBAED,GAAG,KAAK;;;;;;YAEV,uBAAS,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D;AAGF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/ui/Select.tsx"],"sourcesContent":["import { SelectHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\n  label?: string;\n  error?: string;\n  options: { value: string; label: string }[];\n}\n\nconst Select = forwardRef<HTMLSelectElement, SelectProps>(\n  ({ className, label, error, options, ...props }, ref) => {\n    return (\n      <div className=\"w-full\">\n        {label && (\n          <label className=\"block text-sm font-medium text-foreground mb-2\">\n            {label}\n          </label>\n        )}\n        <select\n          ref={ref}\n          className={cn(\n            'flex h-11 w-full rounded-lg border border-border bg-background px-4 py-2',\n            'text-base text-foreground',\n            'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary',\n            'disabled:cursor-not-allowed disabled:opacity-50',\n            error && 'border-red-500 focus-visible:ring-red-500',\n            className\n          )}\n          {...props}\n        >\n          {options.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n        {error && <p className=\"mt-1 text-sm text-red-600\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nSelect.displayName = 'Select';\n\nexport { Select };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQA,MAAM,uBAAS,IAAA,mNAAU,EACvB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IAC/C,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;0BACd;;;;;;0BAGL,8OAAC;gBACC,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,4EACA,6BACA,8EACA,mDACA,SAAS,6CACT;gBAED,GAAG,KAAK;0BAER,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;wBAA0B,OAAO,OAAO,KAAK;kCAC3C,OAAO,KAAK;uBADF,OAAO,KAAK;;;;;;;;;;YAK5B,uBAAS,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 472, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/actions/questions.ts"],"sourcesContent":["'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport { supabaseAdmin } from '@/lib/supabase/admin';\nimport type { QuestionFormData } from '@/lib/types';\n\nexport async function getQuestions(surveyId: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('survey_id', surveyId)\n      .order('order_index', { ascending: true });\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get questions error:', error);\n    return { success: false, error: 'Failed to fetch questions' };\n  }\n}\n\nexport async function getQuestion(id: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get question error:', error);\n    return { success: false, error: 'Failed to fetch question' };\n  }\n}\n\nexport async function createQuestion(formData: QuestionFormData) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .insert([\n        {\n          survey_id: formData.survey_id,\n          category_id: formData.category_id || null,\n          question_text: formData.question_text,\n          description: formData.description || null,\n          media_url: formData.media_url || null,\n          question_type: formData.question_type,\n          order_index: formData.order_index,\n        },\n      ])\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${formData.survey_id}`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Create question error:', error);\n    return { success: false, error: 'Failed to create question' };\n  }\n}\n\nexport async function updateQuestion(id: string, formData: Partial<QuestionFormData>) {\n  try {\n    const updateData: any = {};\n    \n    if (formData.question_text !== undefined) updateData.question_text = formData.question_text;\n    if (formData.description !== undefined) updateData.description = formData.description || null;\n    if (formData.media_url !== undefined) updateData.media_url = formData.media_url || null;\n    if (formData.question_type !== undefined) updateData.question_type = formData.question_type;\n    if (formData.category_id !== undefined) updateData.category_id = formData.category_id || null;\n    if (formData.order_index !== undefined) updateData.order_index = formData.order_index;\n\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .update(updateData)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Update question error:', error);\n    return { success: false, error: 'Failed to update question' };\n  }\n}\n\nexport async function deleteQuestion(id: string, surveyId: string) {\n  try {\n    const { error } = await supabaseAdmin\n      .from('questions')\n      .delete()\n      .eq('id', id);\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${surveyId}`);\n    return { success: true };\n  } catch (error) {\n    console.error('Delete question error:', error);\n    return { success: false, error: 'Failed to delete question' };\n  }\n}\n\nexport async function uploadMedia(file: File): Promise<{ success: boolean; url?: string; error?: string }> {\n  try {\n    // Generate unique filename\n    const fileExt = file.name.split('.').pop();\n    const fileName = `${Date.now()}_${Math.random().toString(36).substring(7)}.${fileExt}`;\n    \n    // Upload to Supabase Storage\n    const { data, error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .upload(fileName, file, {\n        cacheControl: '3600',\n        upsert: false,\n      });\n\n    if (error) throw error;\n\n    // Get public URL\n    const { data: urlData } = supabaseAdmin.storage\n      .from('survey-media')\n      .getPublicUrl(fileName);\n\n    return { success: true, url: urlData.publicUrl };\n  } catch (error) {\n    console.error('Upload media error:', error);\n    return { success: false, error: 'Failed to upload media' };\n  }\n}\n\nexport async function deleteMedia(url: string) {\n  try {\n    // Extract filename from URL\n    const filename = url.split('/').pop();\n    if (!filename) throw new Error('Invalid URL');\n\n    const { error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .remove([filename]);\n\n    if (error) throw error;\n\n    return { success: true };\n  } catch (error) {\n    console.error('Delete media error:', error);\n    return { success: false, error: 'Failed to delete media' };\n  }\n}\n\nexport async function bulkImportQuestions(data: {\n  survey_id: string;\n  category_id: string;\n  question_type: string;\n  questions: string[];\n  start_order_index: number;\n}) {\n  try {\n    const { survey_id, category_id, question_type, questions, start_order_index } = data;\n\n    // Filter out empty lines and trim whitespace\n    const cleanedQuestions = questions\n      .map(q => q.trim())\n      .filter(q => q.length > 0);\n\n    if (cleanedQuestions.length === 0) {\n      return { success: false, error: 'No valid questions to import' };\n    }\n\n    // Create question records\n    const questionRecords = cleanedQuestions.map((question_text, index) => ({\n      survey_id,\n      category_id: category_id || null,\n      question_text,\n      description: null,\n      media_url: null,\n      question_type,\n      order_index: start_order_index + index,\n    }));\n\n    const { data: insertedData, error } = await supabaseAdmin\n      .from('questions')\n      .insert(questionRecords)\n      .select();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${survey_id}`);\n    return { \n      success: true, \n      data: insertedData,\n      count: insertedData?.length || 0 \n    };\n  } catch (error) {\n    console.error('Bulk import questions error:', error);\n    return { success: false, error: 'Failed to import questions' };\n  }\n}\n"],"names":[],"mappings":";;;;;;;MAuHsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,+CAAA"}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/actions/questions.ts"],"sourcesContent":["'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport { supabaseAdmin } from '@/lib/supabase/admin';\nimport type { QuestionFormData } from '@/lib/types';\n\nexport async function getQuestions(surveyId: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('survey_id', surveyId)\n      .order('order_index', { ascending: true });\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get questions error:', error);\n    return { success: false, error: 'Failed to fetch questions' };\n  }\n}\n\nexport async function getQuestion(id: string) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .select(`\n        *,\n        category:categories(*)\n      `)\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n\n    return { success: true, data };\n  } catch (error) {\n    console.error('Get question error:', error);\n    return { success: false, error: 'Failed to fetch question' };\n  }\n}\n\nexport async function createQuestion(formData: QuestionFormData) {\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .insert([\n        {\n          survey_id: formData.survey_id,\n          category_id: formData.category_id || null,\n          question_text: formData.question_text,\n          description: formData.description || null,\n          media_url: formData.media_url || null,\n          question_type: formData.question_type,\n          order_index: formData.order_index,\n        },\n      ])\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${formData.survey_id}`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Create question error:', error);\n    return { success: false, error: 'Failed to create question' };\n  }\n}\n\nexport async function updateQuestion(id: string, formData: Partial<QuestionFormData>) {\n  try {\n    const updateData: any = {};\n    \n    if (formData.question_text !== undefined) updateData.question_text = formData.question_text;\n    if (formData.description !== undefined) updateData.description = formData.description || null;\n    if (formData.media_url !== undefined) updateData.media_url = formData.media_url || null;\n    if (formData.question_type !== undefined) updateData.question_type = formData.question_type;\n    if (formData.category_id !== undefined) updateData.category_id = formData.category_id || null;\n    if (formData.order_index !== undefined) updateData.order_index = formData.order_index;\n\n    const { data, error } = await supabaseAdmin\n      .from('questions')\n      .update(updateData)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys`);\n    return { success: true, data };\n  } catch (error) {\n    console.error('Update question error:', error);\n    return { success: false, error: 'Failed to update question' };\n  }\n}\n\nexport async function deleteQuestion(id: string, surveyId: string) {\n  try {\n    const { error } = await supabaseAdmin\n      .from('questions')\n      .delete()\n      .eq('id', id);\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${surveyId}`);\n    return { success: true };\n  } catch (error) {\n    console.error('Delete question error:', error);\n    return { success: false, error: 'Failed to delete question' };\n  }\n}\n\nexport async function uploadMedia(file: File): Promise<{ success: boolean; url?: string; error?: string }> {\n  try {\n    // Generate unique filename\n    const fileExt = file.name.split('.').pop();\n    const fileName = `${Date.now()}_${Math.random().toString(36).substring(7)}.${fileExt}`;\n    \n    // Upload to Supabase Storage\n    const { data, error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .upload(fileName, file, {\n        cacheControl: '3600',\n        upsert: false,\n      });\n\n    if (error) throw error;\n\n    // Get public URL\n    const { data: urlData } = supabaseAdmin.storage\n      .from('survey-media')\n      .getPublicUrl(fileName);\n\n    return { success: true, url: urlData.publicUrl };\n  } catch (error) {\n    console.error('Upload media error:', error);\n    return { success: false, error: 'Failed to upload media' };\n  }\n}\n\nexport async function deleteMedia(url: string) {\n  try {\n    // Extract filename from URL\n    const filename = url.split('/').pop();\n    if (!filename) throw new Error('Invalid URL');\n\n    const { error } = await supabaseAdmin.storage\n      .from('survey-media')\n      .remove([filename]);\n\n    if (error) throw error;\n\n    return { success: true };\n  } catch (error) {\n    console.error('Delete media error:', error);\n    return { success: false, error: 'Failed to delete media' };\n  }\n}\n\nexport async function bulkImportQuestions(data: {\n  survey_id: string;\n  category_id: string;\n  question_type: string;\n  questions: string[];\n  start_order_index: number;\n}) {\n  try {\n    const { survey_id, category_id, question_type, questions, start_order_index } = data;\n\n    // Filter out empty lines and trim whitespace\n    const cleanedQuestions = questions\n      .map(q => q.trim())\n      .filter(q => q.length > 0);\n\n    if (cleanedQuestions.length === 0) {\n      return { success: false, error: 'No valid questions to import' };\n    }\n\n    // Create question records\n    const questionRecords = cleanedQuestions.map((question_text, index) => ({\n      survey_id,\n      category_id: category_id || null,\n      question_text,\n      description: null,\n      media_url: null,\n      question_type,\n      order_index: start_order_index + index,\n    }));\n\n    const { data: insertedData, error } = await supabaseAdmin\n      .from('questions')\n      .insert(questionRecords)\n      .select();\n\n    if (error) throw error;\n\n    revalidatePath(`/[admin]/surveys/${survey_id}`);\n    return { \n      success: true, \n      data: insertedData,\n      count: insertedData?.length || 0 \n    };\n  } catch (error) {\n    console.error('Bulk import questions error:', error);\n    return { success: false, error: 'Failed to import questions' };\n  }\n}\n"],"names":[],"mappings":";;;;;;;MAmJsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,+CAAA"}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/admin/MediaUpload.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef } from 'react';\nimport { uploadMedia, deleteMedia } from '@/actions/questions';\nimport { Button } from '@/components/ui/Button';\nimport { isValidMediaFile, formatFileSize } from '@/lib/utils';\n\ninterface MediaUploadProps {\n  currentUrl?: string;\n  onUpload: (url: string) => void;\n  onRemove: () => void;\n  disabled?: boolean;\n}\n\nexport function MediaUpload({ currentUrl, onUpload, onRemove, disabled }: MediaUploadProps) {\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState('');\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Validate file\n    if (!isValidMediaFile(file)) {\n      setError('Invalid file type. Please upload an image or video.');\n      return;\n    }\n\n    if (file.size > 50 * 1024 * 1024) {\n      setError('File size must be less than 50MB');\n      return;\n    }\n\n    setError('');\n    setIsUploading(true);\n\n    try {\n      const result = await uploadMedia(file);\n\n      if (result.success && result.url) {\n        onUpload(result.url);\n      } else {\n        setError(result.error || 'Upload failed');\n      }\n    } catch (err) {\n      setError('An error occurred during upload');\n      console.error(err);\n    } finally {\n      setIsUploading(false);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  const handleRemove = async () => {\n    if (!currentUrl) return;\n\n    if (!confirm('Are you sure you want to remove this media?')) {\n      return;\n    }\n\n    setIsUploading(true);\n\n    try {\n      await deleteMedia(currentUrl);\n      onRemove();\n    } catch (err) {\n      console.error('Error removing media:', err);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      <label className=\"block text-sm font-medium text-foreground\">\n        Media (optional)\n      </label>\n\n      {currentUrl ? (\n        <div className=\"space-y-3\">\n          <div className=\"border border-border rounded-lg p-4\">\n            {currentUrl.match(/\\.(jpg|jpeg|png|gif|webp)$/i) ? (\n              <img\n                src={currentUrl}\n                alt=\"Uploaded media\"\n                className=\"max-w-sm rounded-lg\"\n              />\n            ) : (\n              <video\n                src={currentUrl}\n                controls\n                className=\"max-w-sm rounded-lg\"\n              />\n            )}\n          </div>\n          <Button\n            type=\"button\"\n            variant=\"danger\"\n            size=\"sm\"\n            onClick={handleRemove}\n            disabled={disabled || isUploading}\n          >\n            Remove Media\n          </Button>\n        </div>\n      ) : (\n        <div className=\"space-y-2\">\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            accept=\"image/*,video/*\"\n            onChange={handleFileSelect}\n            disabled={disabled || isUploading}\n            className=\"block w-full text-sm text-foreground\n              file:mr-4 file:py-2 file:px-4\n              file:rounded-lg file:border-0\n              file:text-sm file:font-medium\n              file:bg-primary file:text-white\n              file:cursor-pointer\n              hover:file:bg-primary-hover\n              disabled:opacity-50 disabled:cursor-not-allowed\"\n          />\n          <p className=\"text-xs text-muted-foreground\">\n            Upload an image, video, or GIF (max 50MB)\n          </p>\n        </div>\n      )}\n\n      {error && (\n        <p className=\"text-sm text-red-600\">{error}</p>\n      )}\n\n      {isUploading && (\n        <p className=\"text-sm text-muted-foreground\">Uploading...</p>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAcO,SAAS,YAAY,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAoB;IACxF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,eAAe,IAAA,+MAAM,EAAmB;IAE9C,MAAM,mBAAmB,OAAO;QAC9B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,gBAAgB;QAChB,IAAI,CAAC,IAAA,uIAAgB,EAAC,OAAO;YAC3B,SAAS;YACT;QACF;QAEA,IAAI,KAAK,IAAI,GAAG,KAAK,OAAO,MAAM;YAChC,SAAS;YACT;QACF;QAEA,SAAS;QACT,eAAe;QAEf,IAAI;YACF,MAAM,SAAS,MAAM,IAAA,qKAAW,EAAC;YAEjC,IAAI,OAAO,OAAO,IAAI,OAAO,GAAG,EAAE;gBAChC,SAAS,OAAO,GAAG;YACrB,OAAO;gBACL,SAAS,OAAO,KAAK,IAAI;YAC3B;QACF,EAAE,OAAO,KAAK;YACZ,SAAS;YACT,QAAQ,KAAK,CAAC;QAChB,SAAU;YACR,eAAe;YACf,IAAI,aAAa,OAAO,EAAE;gBACxB,aAAa,OAAO,CAAC,KAAK,GAAG;YAC/B;QACF;IACF;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,YAAY;QAEjB,IAAI,CAAC,QAAQ,gDAAgD;YAC3D;QACF;QAEA,eAAe;QAEf,IAAI;YACF,MAAM,IAAA,qKAAW,EAAC;YAClB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,yBAAyB;QACzC,SAAU;YACR,eAAe;QACjB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,WAAU;0BAA4C;;;;;;YAI5D,2BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACZ,WAAW,KAAK,CAAC,+CAChB,8OAAC;4BACC,KAAK;4BACL,KAAI;4BACJ,WAAU;;;;;iDAGZ,8OAAC;4BACC,KAAK;4BACL,QAAQ;4BACR,WAAU;;;;;;;;;;;kCAIhB,8OAAC,4IAAM;wBACL,MAAK;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,UAAU,YAAY;kCACvB;;;;;;;;;;;qCAKH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,KAAK;wBACL,MAAK;wBACL,QAAO;wBACP,UAAU;wBACV,UAAU,YAAY;wBACtB,WAAU;;;;;;kCASZ,8OAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;YAMhD,uBACC,8OAAC;gBAAE,WAAU;0BAAwB;;;;;;YAGtC,6BACC,8OAAC;gBAAE,WAAU;0BAAgC;;;;;;;;;;;;AAIrD"}},
    {"offset": {"line": 677, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/lib/types.ts"],"sourcesContent":["// Database Types\nexport interface Survey {\n  id: string;\n  title: string;\n  description: string | null;\n  is_active: boolean;\n  start_date: string | null;\n  end_date: string | null;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Category {\n  id: string;\n  survey_id: string;\n  name: string;\n  order_index: number;\n  created_at: string;\n}\n\nexport interface Question {\n  id: string;\n  survey_id: string;\n  category_id: string | null;\n  question_text: string;\n  description: string | null;\n  media_url: string | null;\n  question_type: QuestionType;\n  order_index: number;\n  created_at: string;\n}\n\nexport interface Response {\n  id: string;\n  survey_id: string;\n  question_id: string;\n  session_id: string;\n  age_range: AgeRange;\n  gender: Gender;\n  answer_value: string;\n  created_at: string;\n}\n\nexport interface SessionTracking {\n  id: string;\n  survey_id: string;\n  session_id: string;\n  current_page: number;\n  question_id: string | null;\n  time_spent_seconds: number;\n  last_active_at: string;\n  created_at: string;\n}\n\n// Enums\nexport enum QuestionType {\n  LIKE_DISLIKE = 'like_dislike',\n  RATING_1_5 = 'rating_1_5'\n}\n\nexport enum AgeRange {\n  RANGE_18_24 = '18-24',\n  RANGE_25_34 = '25-34',\n  RANGE_35_44 = '35-44',\n  RANGE_45_54 = '45-54',\n  RANGE_55_PLUS = '55+'\n}\n\nexport enum Gender {\n  MALE = 'male',\n  FEMALE = 'female',\n  OTHER = 'other',\n  PREFER_NOT_TO_SAY = 'prefer_not_to_say'\n}\n\n// Form Types\nexport interface SurveyFormData {\n  title: string;\n  description: string;\n  is_active: boolean;\n  start_date: string;\n  end_date: string;\n}\n\nexport interface CategoryFormData {\n  survey_id: string;\n  name: string;\n  order_index: number;\n}\n\nexport interface QuestionFormData {\n  survey_id: string;\n  category_id: string;\n  question_text: string;\n  description: string;\n  media_url: string;\n  question_type: QuestionType;\n  order_index: number;\n}\n\nexport interface ResponseFormData {\n  survey_id: string;\n  question_id: string;\n  session_id: string;\n  age_range: AgeRange;\n  gender: Gender;\n  answer_value: string;\n}\n\nexport interface DemographicsData {\n  age_range: AgeRange;\n  gender: Gender;\n}\n\n// Extended Types with Relations\nexport interface SurveyWithRelations extends Survey {\n  categories?: CategoryWithQuestions[];\n  questions?: Question[];\n  _count?: {\n    responses: number;\n  };\n}\n\nexport interface CategoryWithQuestions extends Category {\n  questions?: Question[];\n}\n\nexport interface QuestionWithDetails extends Question {\n  category?: Category;\n}\n\n// Aggregated Results\nexport interface QuestionResult {\n  question_id: string;\n  question_text: string;\n  question_type: QuestionType;\n  total_responses: number;\n  like_count?: number;\n  dislike_count?: number;\n  rating_1?: number;\n  rating_2?: number;\n  rating_3?: number;\n  rating_4?: number;\n  rating_5?: number;\n  average_rating?: number;\n}\n\nexport interface AggregatedResults {\n  survey_id: string;\n  total_responses: number;\n  by_age: Record<AgeRange, number>;\n  by_gender: Record<Gender, number>;\n  by_device: Record<string, number>;\n  by_browser: Record<string, number>;\n  by_os: Record<string, number>;\n  questions: QuestionResult[];\n}\n\n// Realtime Tracking\nexport interface ActiveSession {\n  session_id: string;\n  current_page: number;\n  question_id: string | null;\n  question_text?: string;\n  time_spent_seconds: number;\n  last_active_at: string;\n}\n\nexport interface RealtimeStats {\n  total_active_users: number;\n  active_sessions: ActiveSession[];\n  average_time_per_question: number;\n}\n\n// Admin Auth\nexport interface AdminSession {\n  authenticated: boolean;\n  expiresAt: number;\n}\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;;;AAuDV,IAAA,AAAK,sCAAA;;;WAAA;;AAKL,IAAA,AAAK,kCAAA;;;;;;WAAA;;AAQL,IAAA,AAAK,gCAAA;;;;;WAAA"}},
    {"offset": {"line": 710, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhanushka/Desktop/survey/src/components/admin/QuestionManager.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createQuestion, updateQuestion, deleteQuestion, bulkImportQuestions } from '@/actions/questions';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { Textarea } from '@/components/ui/Textarea';\nimport { Select } from '@/components/ui/Select';\nimport { MediaUpload } from '@/components/admin/MediaUpload';\nimport { QuestionType, type Question, type Category } from '@/lib/types';\n\ninterface QuestionManagerProps {\n  surveyId: string;\n  questions: (Question & { category?: Category })[];\n  categories: Category[];\n}\n\nexport function QuestionManager({ surveyId, questions: initialQuestions, categories }: QuestionManagerProps) {\n  const router = useRouter();\n  const [showForm, setShowForm] = useState(false);\n  const [showBulkImport, setShowBulkImport] = useState(false);\n  const [editingQuestion, setEditingQuestion] = useState<Question | null>(null);\n  const [quickEditImageId, setQuickEditImageId] = useState<string | null>(null);\n  const [loading, setLoading] = useState<string | null>(null);\n\n  const [formData, setFormData] = useState({\n    question_text: '',\n    description: '',\n    media_url: '',\n    question_type: QuestionType.LIKE_DISLIKE,\n    category_id: categories[0]?.id || '',\n  });\n\n  const [bulkImportData, setBulkImportData] = useState({\n    questions_text: '',\n    question_type: QuestionType.LIKE_DISLIKE,\n    category_id: categories[0]?.id || '',\n  });\n\n  const resetForm = () => {\n    setFormData({\n      question_text: '',\n      description: '',\n      media_url: '',\n      question_type: QuestionType.LIKE_DISLIKE,\n      category_id: categories[0]?.id || '',\n    });\n    setEditingQuestion(null);\n    setShowForm(false);\n  };\n\n  const resetBulkImport = () => {\n    setBulkImportData({\n      questions_text: '',\n      question_type: QuestionType.LIKE_DISLIKE,\n      category_id: categories[0]?.id || '',\n    });\n    setShowBulkImport(false);\n  };\n\n  const handleBulkImport = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading('bulk');\n\n    try {\n      const questions = bulkImportData.questions_text\n        .split('\\n')\n        .map(q => q.trim())\n        .filter(q => q.length > 0);\n\n      if (questions.length === 0) {\n        alert('Please enter at least one question');\n        setLoading(null);\n        return;\n      }\n\n      const result = await bulkImportQuestions({\n        survey_id: surveyId,\n        category_id: bulkImportData.category_id,\n        question_type: bulkImportData.question_type,\n        questions,\n        start_order_index: initialQuestions.length,\n      });\n\n      if (result.success) {\n        alert(`Successfully imported ${result.count} questions!`);\n        resetBulkImport();\n        router.refresh();\n      } else {\n        alert(result.error);\n      }\n    } catch (error) {\n      alert('An error occurred during import');\n      console.error(error);\n    } finally {\n      setLoading(null);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading('form');\n\n    try {\n      const result = editingQuestion\n        ? await updateQuestion(editingQuestion.id, formData)\n        : await createQuestion({\n            ...formData,\n            survey_id: surveyId,\n            order_index: initialQuestions.length,\n          });\n\n      if (result.success) {\n        resetForm();\n        router.refresh();\n      } else {\n        alert(result.error);\n      }\n    } catch (error) {\n      alert('An error occurred');\n      console.error(error);\n    } finally {\n      setLoading(null);\n    }\n  };\n\n  const handleEdit = (question: Question) => {\n    setEditingQuestion(question);\n    setFormData({\n      question_text: question.question_text,\n      description: question.description || '',\n      media_url: question.media_url || '',\n      question_type: question.question_type,\n      category_id: question.category_id || '',\n    });\n    setShowForm(true);\n  };\n\n  const handleDelete = async (id: string, questionText: string) => {\n    if (!confirm(`Are you sure you want to delete \"${questionText}\"?`)) {\n      return;\n    }\n\n    setLoading(id);\n    const result = await deleteQuestion(id, surveyId);\n    setLoading(null);\n\n    if (result.success) {\n      router.refresh();\n    } else {\n      alert(result.error);\n    }\n  };\n\n  const handleQuickImageUpdate = async (questionId: string, mediaUrl: string) => {\n    setLoading(`image-${questionId}`);\n    \n    const result = await updateQuestion(questionId, { media_url: mediaUrl });\n    \n    if (result.success) {\n      setQuickEditImageId(null);\n      router.refresh();\n    } else {\n      alert(result.error);\n    }\n    \n    setLoading(null);\n  };\n\n  const handleQuickImageRemove = async (questionId: string) => {\n    if (!confirm('Are you sure you want to remove this image?')) {\n      return;\n    }\n    \n    setLoading(`image-${questionId}`);\n    \n    const result = await updateQuestion(questionId, { media_url: '' });\n    \n    if (result.success) {\n      router.refresh();\n    } else {\n      alert(result.error);\n    }\n    \n    setLoading(null);\n  };\n\n  const questionTypeOptions = [\n    { value: QuestionType.LIKE_DISLIKE, label: 'Like / Dislike' },\n    { value: QuestionType.RATING_1_5, label: 'Rating 1-5' },\n  ];\n\n  const categoryOptions = categories.map((cat) => ({\n    value: cat.id,\n    label: cat.name,\n  }));\n\n  if (categoryOptions.length === 0) {\n    categoryOptions.push({ value: '', label: 'No category' });\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {!showForm && !showBulkImport && (\n        <div className=\"flex gap-3\">\n          <Button onClick={() => setShowForm(true)}>\n            Add Question\n          </Button>\n          <Button variant=\"secondary\" onClick={() => setShowBulkImport(true)}>\n            Bulk Import\n          </Button>\n        </div>\n      )}\n\n      {showBulkImport && (\n        <div className=\"border border-border rounded-lg p-6 bg-muted/50\">\n          <h3 className=\"text-lg font-semibold mb-4\">\n            Bulk Import Questions\n          </h3>\n          <p className=\"text-sm text-muted-foreground mb-4\">\n            Enter one question per line. All questions will be imported with the same category and type.\n          </p>\n          <form onSubmit={handleBulkImport} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <Select\n                label=\"Question Type\"\n                options={questionTypeOptions}\n                value={bulkImportData.question_type}\n                onChange={(e) =>\n                  setBulkImportData({\n                    ...bulkImportData,\n                    question_type: e.target.value as QuestionType,\n                  })\n                }\n                disabled={loading === 'bulk'}\n              />\n\n              {categories.length > 0 && (\n                <Select\n                  label=\"Category\"\n                  options={categoryOptions}\n                  value={bulkImportData.category_id}\n                  onChange={(e) =>\n                    setBulkImportData({ ...bulkImportData, category_id: e.target.value })\n                  }\n                  disabled={loading === 'bulk'}\n                />\n              )}\n            </div>\n\n            <Textarea\n              label=\"Questions (one per line)\"\n              placeholder=\"Enter your questions here, one per line:&#10;What do you think about feature A?&#10;How would you rate feature B?&#10;Do you like feature C?\"\n              value={bulkImportData.questions_text}\n              onChange={(e) =>\n                setBulkImportData({ ...bulkImportData, questions_text: e.target.value })\n              }\n              rows={10}\n              required\n              disabled={loading === 'bulk'}\n            />\n\n            <div className=\"flex items-center justify-between\">\n              <p className=\"text-sm text-muted-foreground\">\n                {bulkImportData.questions_text.split('\\n').filter(q => q.trim().length > 0).length} question(s) to import\n              </p>\n              <div className=\"flex gap-3\">\n                <Button type=\"submit\" disabled={loading === 'bulk'}>\n                  {loading === 'bulk' ? 'Importing...' : 'Import Questions'}\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"secondary\"\n                  onClick={resetBulkImport}\n                  disabled={loading === 'bulk'}\n                >\n                  Cancel\n                </Button>\n              </div>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {showForm && (\n        <div className=\"border border-border rounded-lg p-6 bg-muted/50\">\n          <h3 className=\"text-lg font-semibold mb-4\">\n            {editingQuestion ? 'Edit Question' : 'New Question'}\n          </h3>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <Input\n              label=\"Question Text\"\n              placeholder=\"Enter your question\"\n              value={formData.question_text}\n              onChange={(e) =>\n                setFormData({ ...formData, question_text: e.target.value })\n              }\n              required\n              disabled={loading === 'form'}\n            />\n\n            <Textarea\n              label=\"Description (optional)\"\n              placeholder=\"Additional context or instructions\"\n              value={formData.description}\n              onChange={(e) =>\n                setFormData({ ...formData, description: e.target.value })\n              }\n              disabled={loading === 'form'}\n            />\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <Select\n                label=\"Question Type\"\n                options={questionTypeOptions}\n                value={formData.question_type}\n                onChange={(e) =>\n                  setFormData({\n                    ...formData,\n                    question_type: e.target.value as QuestionType,\n                  })\n                }\n                disabled={loading === 'form'}\n              />\n\n              {categories.length > 0 && (\n                <Select\n                  label=\"Category\"\n                  options={categoryOptions}\n                  value={formData.category_id}\n                  onChange={(e) =>\n                    setFormData({ ...formData, category_id: e.target.value })\n                  }\n                  disabled={loading === 'form'}\n                />\n              )}\n            </div>\n\n            <MediaUpload\n              currentUrl={formData.media_url}\n              onUpload={(url) => setFormData({ ...formData, media_url: url })}\n              onRemove={() => setFormData({ ...formData, media_url: '' })}\n              disabled={loading === 'form'}\n            />\n\n            <div className=\"flex gap-3\">\n              <Button type=\"submit\" disabled={loading === 'form'}>\n                {loading === 'form' ? 'Saving...' : editingQuestion ? 'Update' : 'Create'}\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"secondary\"\n                onClick={resetForm}\n                disabled={loading === 'form'}\n              >\n                Cancel\n              </Button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {initialQuestions.length === 0 ? (\n        <p className=\"text-muted-foreground text-center py-8\">\n          No questions yet. Add your first question above.\n        </p>\n      ) : (\n        <div className=\"space-y-4\">\n          {initialQuestions.map((question, index) => (\n            <div\n              key={question.id}\n              className=\"border border-border rounded-lg p-4 hover:bg-muted/50 transition-colors\"\n            >\n              <div className=\"flex flex-col sm:flex-row sm:items-start justify-between gap-4\">\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex flex-wrap items-center gap-1.5 sm:gap-2 mb-2\">\n                    <span className=\"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded\">\n                      #{index + 1}\n                    </span>\n                    <span className=\"px-2 py-1 text-xs font-medium bg-primary-light text-primary rounded\">\n                      {question.question_type === QuestionType.LIKE_DISLIKE\n                        ? 'Like/Dislike'\n                        : 'Rating 1-5'}\n                    </span>\n                    {question.category && (\n                      <span className=\"px-2 py-1 text-xs font-medium bg-muted text-muted-foreground rounded\">\n                        {question.category.name}\n                      </span>\n                    )}\n                    {question.media_url ? (\n                      <span className=\"px-2 py-1 text-xs font-medium bg-green-100 text-green-700 rounded\">\n                        Has Image\n                      </span>\n                    ) : (\n                      <span className=\"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-700 rounded\">\n                        No Image\n                      </span>\n                    )}\n                  </div>\n                  <h4 className=\"font-medium text-foreground mb-1\">\n                    {question.question_text}\n                  </h4>\n                  {question.description && (\n                    <p className=\"text-sm text-muted-foreground mb-2\">\n                      {question.description}\n                    </p>\n                  )}\n                  \n                  {/* Current Image Preview */}\n                  {question.media_url && quickEditImageId !== question.id && (\n                    <div className=\"mt-2 relative inline-block\">\n                      {question.media_url.match(/\\.(jpg|jpeg|png|gif|webp)$/i) ? (\n                        <img\n                          src={question.media_url}\n                          alt=\"Question media\"\n                          className=\"max-w-xs max-h-32 rounded-lg object-cover\"\n                        />\n                      ) : (\n                        <video\n                          src={question.media_url}\n                          controls\n                          className=\"max-w-xs rounded-lg\"\n                        />\n                      )}\n                    </div>\n                  )}\n\n                  {/* Quick Image Upload Section */}\n                  {quickEditImageId === question.id && (\n                    <div className=\"mt-3 p-4 border border-primary/30 rounded-lg bg-primary-lighter\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <p className=\"text-sm font-medium text-primary\">Quick Image Upload</p>\n                        <button\n                          onClick={() => setQuickEditImageId(null)}\n                          className=\"text-gray-500 hover:text-gray-700\"\n                        >\n                          \n                        </button>\n                      </div>\n                      <MediaUpload\n                        currentUrl={question.media_url || ''}\n                        onUpload={(url) => handleQuickImageUpdate(question.id, url)}\n                        onRemove={() => handleQuickImageRemove(question.id)}\n                        disabled={loading === `image-${question.id}`}\n                      />\n                      {loading === `image-${question.id}` && (\n                        <p className=\"text-xs text-primary mt-2\">Saving...</p>\n                      )}\n                    </div>\n                  )}\n                </div>\n                <div className=\"flex sm:flex-col gap-2\">\n                  <Button\n                    size=\"sm\"\n                    variant={question.media_url ? 'secondary' : 'primary'}\n                    onClick={() => setQuickEditImageId(quickEditImageId === question.id ? null : question.id)}\n                    disabled={loading === question.id || loading === `image-${question.id}`}\n                    title={question.media_url ? 'Change Image' : 'Add Image'}\n                  >\n                    <span className=\"sm:hidden\">{question.media_url ? '' : ''}</span>\n                    <span className=\"hidden sm:inline\">{question.media_url ? ' Change' : ' Add Image'}</span>\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    variant=\"secondary\"\n                    onClick={() => handleEdit(question)}\n                    disabled={loading === question.id}\n                  >\n                    Edit\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    variant=\"danger\"\n                    onClick={() => handleDelete(question.id, question.question_text)}\n                    disabled={loading === question.id}\n                  >\n                    Delete\n                  </Button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}